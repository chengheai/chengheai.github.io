<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CHI1130</title>
  
  <subtitle>ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰ï¼›è¡Œæˆäºæ€ï¼Œæ¯äºéš</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/chengheai/"/>
  <updated>2021-10-09T08:48:32.094Z</updated>
  <id>https://github.com/chengheai/</id>
  
  <author>
    <name>HEAI</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ·±å…¥ç†è§£jsä¸­é˜²æŠ–è·Ÿæˆªæµçš„åŒºåˆ«</title>
    <link href="https://github.com/chengheai/2021/07/15/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3js%E4%B8%AD%E9%98%B2%E6%8A%96%E8%B7%9F%E6%88%AA%E6%B5%81%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>https://github.com/chengheai/2021/07/15/æ·±å…¥ç†è§£jsä¸­é˜²æŠ–è·Ÿæˆªæµçš„åŒºåˆ«/</id>
    <published>2021-07-15T13:29:55.000Z</published>
    <updated>2021-10-09T08:48:32.094Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨æ—¥å¸¸é¡¹ç›®å¼€å‘ä¸­ï¼Œé€šå¸¸ä¼šç¢°åˆ°ç›‘å¬å¤„ç†çš„æ“ä½œï¼Œæ¯”å¦‚ç›‘å¬æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜ï¼Œç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œç›‘å¬è¾“å…¥äº‹ä»¶ç­‰ç­‰ï¼Œç„¶è€Œåšè¿™æ–¹é¢åŠŸèƒ½çš„æ—¶å€™å°±è¦æƒ³ç€æ€ä¹ˆä¼˜åŒ–æ€§èƒ½ï¼Œé˜²æŠ–è·Ÿæˆªæµå°±æ´¾ä¸Šç”¨åœºäº†</p><h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><blockquote><p>è§¦å‘é«˜é¢‘äº‹ä»¶ådelayå†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœdelayå†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´</p></blockquote><ol><li>å®ç°æ–¹å¼ï¼šæ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶è®¾ç½®ä¸€ä¸ªå»¶è¿Ÿè°ƒç”¨æ–¹æ³•ï¼Œå¹¶ä¸”å–æ¶ˆä¹‹å‰çš„å»¶æ—¶è°ƒç”¨æ–¹æ³•</li><li>ç¼ºç‚¹ï¼šå¦‚æœäº‹ä»¶åœ¨è§„å®šçš„æ—¶é—´é—´éš”å†…è¢«ä¸æ–­çš„è§¦å‘ï¼Œåˆ™è°ƒç”¨æ–¹æ³•ä¼šè¢«ä¸æ–­çš„å»¶è¿Ÿ</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//debounce</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">method, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">      timer = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      method.apply(self, <span class="built_in">arguments</span>)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(xxx);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ»šåŠ¨äº‹ä»¶</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, debounce(handle,<span class="number">1000</span>));</span><br></pre></td></tr></table></figure><h1 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h1><blockquote><p>æŒ‡åœ¨è§„å®šæ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡äº‹ä»¶ï¼Œå‡å°‘äº‹ä»¶æ‰§è¡Œçš„é¢‘ç‡</p></blockquote><ol><li>å®ç°æ–¹å¼ï¼šæ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶ï¼Œå¦‚æœå½“å‰æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•°ï¼Œåˆ™ç›´æ¥return</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn,delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> canRun = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> self = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">if</span> (!canRun) <span class="keyword">return</span></span><br><span class="line">    canRun = <span class="literal">false</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      fn.apply(self, <span class="built_in">arguments</span>)</span><br><span class="line">      canRun = <span class="literal">true</span></span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å…¶ä»–ç‰ˆæœ¬"><a href="#å…¶ä»–ç‰ˆæœ¬" class="headerlink" title="å…¶ä»–ç‰ˆæœ¬"></a>å…¶ä»–ç‰ˆæœ¬</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—¶é—´æˆ³</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle1</span> (<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> prev = <span class="built_in">Date</span>.now()</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> now = <span class="built_in">Date</span>.now()</span><br><span class="line">    <span class="keyword">if</span> (now - prev &gt;= delay) &#123;</span><br><span class="line">      fn()</span><br><span class="line">      prev = <span class="built_in">Date</span>.now()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šæ—¶å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle2</span> (<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">      timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        fn()</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">      &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h1><p><a href="https://chengheai.github.io/daily-vue-demo/#/throttle" target="_blank" rel="noopener">throttle æˆªæµ</a><br><a href="https://chengheai.github.io/daily-vue-demo/#/debounce" target="_blank" rel="noopener">debounce é˜²æŠ–</a></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸€èˆ¬æƒ…å†µä¸‹onresizeï¼Œonkeyupäº‹ä»¶ä½¿ç”¨é˜²æŠ–ï¼›onscrollã€onmousemoveç­‰äº‹ä»¶ä½¿ç”¨æˆªæµã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨æ—¥å¸¸é¡¹ç›®å¼€å‘ä¸­ï¼Œé€šå¸¸ä¼šç¢°åˆ°ç›‘å¬å¤„ç†çš„æ“ä½œï¼Œæ¯”å¦‚ç›‘å¬æµè§ˆå™¨çª—å£å¤§å°æ”¹å˜ï¼Œç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œç›‘å¬è¾“å…¥äº‹ä»¶ç­‰ç­‰ï¼Œç„¶è€Œåšè¿™æ–¹é¢åŠŸèƒ½çš„æ—¶å€™å°±è¦æƒ³ç€æ€ä¹ˆä¼˜
      
    
    </summary>
    
    
      <category term="Javascript" scheme="https://github.com/chengheai/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>jenkins+docker+github+nginxå‰ç«¯å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²</title>
    <link href="https://github.com/chengheai/2020/07/06/jenkins-docker-github-nginx%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/"/>
    <id>https://github.com/chengheai/2020/07/06/jenkins-docker-github-nginxå‰ç«¯å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²/</id>
    <published>2020-07-06T14:08:22.000Z</published>
    <updated>2021-10-09T08:48:32.070Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”±äºä¹‹å‰å†™è¿‡react+nodejs+mongodbçš„é¡¹ç›®ï¼Œåªæ˜¯åœ¨æœ¬åœ°å¼€å‘å®Œæˆï¼Œæƒ³å°è¯•æ­£å¸¸å¼€å‘éƒ¨ç½²ä¸Šçº¿æµå‡ºèµ°ä¸€æ³¢ï¼Œç„¶è€Œåœ¨ç½‘ä¸Šæœç´¢ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å†™çš„åŸºç¡€ä¸œè¥¿ï¼Œæ ‡é¢˜å¤§å†…å®¹å°ï¼Œæœ‰çš„ç”šè‡³å†™åˆ°å…³é”®ä½ç½®å°±æ²¡äº†ï¼Œå½“ç„¶ä¹Ÿæœ‰äº›æ˜¯å¥½æ–‡ç« ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“ä¸€äº›é—®é¢˜ï¼Œè¸©è¿‡å‘ä¹‹åçš„æµç¨‹</p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li>è™šæ‹Ÿæœºä¸€å°ï¼Œå¸‚é¢ä¸Šçš„æœ‰VirtualBoxã€macã€‘ï¼ŒVMwareã€windowsã€‘ç³»ç»Ÿä¸ºlinuxï¼Œç¬”è€…ä¸ºlinux CentOS7.6<h2 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h2></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çœ‹ä½ å½“å‰çš„å†…æ ¸ç‰ˆæœ¬</span></span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line"><span class="comment">// yum åŒ…æ›´æ–°åˆ°æœ€æ–°</span></span><br><span class="line">yum update -y</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®‰è£… docker</span></span><br><span class="line">yum install docker</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨å¹¶åŠ å…¥å¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl enable docker</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹è½½docker-compose</span></span><br><span class="line">curl -L https:<span class="comment">//github.com/docker/compose/releases/download/1.23.2/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ å¯æ‰§è¡Œæƒé™(è¿™é‡Œä¸æ‡‚å¯ä»¥çœ‹ä¸€ä¸‹èœé¸Ÿæ•™ç¨‹-linuxæ•™ç¨‹-æ–‡ä»¶æƒé™)</span></span><br><span class="line">chmod +x /usr/local/bin/docker-compose</span><br><span class="line"><span class="comment">// æŸ¥çœ‹docker-composeç‰ˆæœ¬</span></span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><h2 id="Jenkins-å®‰è£…ä¸é…ç½®"><a href="#Jenkins-å®‰è£…ä¸é…ç½®" class="headerlink" title="Jenkins å®‰è£…ä¸é…ç½®"></a>Jenkins å®‰è£…ä¸é…ç½®</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search jenkins</span><br></pre></td></tr></table></figure><p>é€‰æ‹©ç¬¬äºŒä¸ªæˆ–è€…ç¬¬ä¸‰ä¸ªï¼Œç¬¬ä¸€ä¸ªæœ‰å‘</p><h3 id="å®‰è£…jenkins"><a href="#å®‰è£…jenkins" class="headerlink" title="å®‰è£…jenkins"></a>å®‰è£…jenkins</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -u <span class="number">0</span> --privileged --name jenkins -p <span class="number">8888</span>:<span class="number">8080</span> -v /root/jenkins_home:<span class="regexp">/var/</span>jenkins_home jenkins/jenkins</span><br></pre></td></tr></table></figure><p>æ³¨æ„âš ï¸ï¼šæœ¬æœºéœ€è¦åœ¨/rootä¸‹åˆ›å»ºä¸€ä¸ªjenkins_homeæ–‡ä»¶å¤¹ã€æ²¡æœ‰å°±åŠ ï¼Œæœ‰å°±è¦åŠ ã€‘<br>å…¶ä¸­:<br>-d æŒ‡çš„æ˜¯åœ¨åå°è¿è¡Œï¼›<br>-u 0 æŒ‡çš„æ˜¯ä¼ å…¥ root è´¦å· IDï¼Œè¦†ç›–å®¹å™¨ä¸­å†…ç½®çš„è´¦å·ï¼›<br>-v /root/jenkins_home:/var/jenkins_home æŒ‡çš„æ˜¯å°† docker å®¹å™¨å†…çš„ç›®å½• /var/jenkins_home æ˜ å°„åˆ°å®¿ä¸»æœº /root/jenkins_home ç›®å½•ä¸Šï¼›<br>â€“name jenkins æŒ‡çš„æ˜¯å°† docker å®¹å™¨å†…çš„ç›®å½• /var/jenkins_home æ˜ å°„åˆ°å®¿ä¸»æœº /root/jenkins_home ç›®å½•ä¸Šï¼›<br>-p 49003:8080 æŒ‡çš„æ˜¯å°†å®¹å™¨çš„ 8080 ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ 8888 ç«¯å£ï¼›<br>â€“privileged æŒ‡çš„æ˜¯èµ‹äºˆæœ€é«˜æƒé™ã€‚</p><p>æ•´æ¡å‘½ä»¤çš„æ„æ€å°±æ˜¯ï¼š<br>è¿è¡Œä¸€ä¸ªé•œåƒä¸º jenkins/jenkins:latest çš„å®¹å™¨ï¼Œå‘½åä¸º jenkins_homeï¼Œä½¿ç”¨ root è´¦å·è¦†ç›–å®¹å™¨ä¸­çš„è´¦å·ï¼Œèµ‹äºˆæœ€é«˜æƒé™ï¼Œå°†å®¹å™¨çš„ /var/jenkins_home æ˜ å°„åˆ°å®¿ä¸»æœºçš„ /root/jenkins_home ç›®å½•ä¸‹ï¼Œæ˜ å°„å®¹å™¨ä¸­ 8080 ç«¯å£åˆ°å®¿ä¸»æœº 49003 ç«¯å£</p><p>æ‰§è¡Œå®Œæˆåï¼Œç­‰å¾…å‡ åç§’ï¼Œç­‰å¾… Jenkins å®¹å™¨å¯åŠ¨åˆå§‹åŒ–ã€‚åˆ°æµè§ˆå™¨ä¸­è¾“å…¥ <a href="http://your" target="_blank" rel="noopener">http://your</a> ip:49003 æŸ¥çœ‹ Jenkins æ˜¯å¦å¯åŠ¨æˆåŠŸ</p><p>çœ‹åˆ°å¦‚ä¸‹ç•Œé¢è¯´æ˜å¯åŠ¨æˆåŠŸï¼š</p><p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤è·å–å¯†ç ï¼Œå¤åˆ¶åˆ°ä¸Šå›¾è¾“å…¥æ¡†ä¸­</p><p>è¿›å…¥åˆ°ä¸‹ä¸ªé¡µé¢ï¼Œé€‰æ‹©ã€å®‰è£…æ¨èçš„æ’ä»¶ã€‘ã€‚</p><p>ç”±äºå¢™çš„é—®é¢˜ï¼Œéœ€è¦ä¿®æ”¹ Jenkins çš„é»˜è®¤ä¸‹è½½åœ°å€ã€‚å¯ä»¥åœ¨æµè§ˆå™¨å¦èµ·ä¸€ä¸ª tab é¡µé¢ï¼Œè¿›å…¥ <a href="http://your" target="_blank" rel="noopener">http://your</a> ip:49003/pluginManager/advancedï¼Œä¿®æ”¹æœ€ä¸‹é¢çš„å‡çº§ç«™ç‚¹ URL ä¸º <a href="http://mirror.esuni.jp/jenkins/updates/update-center.json" target="_blank" rel="noopener">http://mirror.esuni.jp/jenkins/updates/update-center.json</a></p><p>ç„¶åé‡å¯å®¹å™¨ï¼Œå†æ¬¡è¿›å…¥åˆå§‹åŒ–é¡µé¢ï¼Œé€šå¸¸ä¸‹è½½é€Ÿåº¦ä¼šåŠ å¿«ã€‚</p><p>ç„¶åå°±æ˜¯åˆ›å»ºç®¡ç†å‘˜è´¦å·ã€‚</p><p>è¿›å…¥é¦–é¡µåï¼Œå› ä¸ºè‡ªåŠ¨åŒ–éƒ¨ç½²ä¸­éœ€è¦é€šè¿‡ ssh ç™»é™†æœåŠ¡å™¨æ‰§è¡Œå‘½ä»¤ä»¥åŠ node ç¯å¢ƒï¼Œæ‰€ä»¥éœ€è¦ä¸‹è½½ Publish Over SSH å’Œ NodeJS æ’ä»¶ï¼Œå¯é€šè¿‡ç³»ç»Ÿç®¡ç† -&gt; ç®¡ç†æ’ä»¶ -&gt; å¯é€‰æ’ä»¶è¿›å…¥ï¼Œæœç´¢é€‰ä¸­å¹¶ç›´æ¥å®‰è£…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒPublish Over SSH éœ€è¦é…ç½®ç›¸å…³ ssh æœåŠ¡å™¨ï¼Œé€šè¿‡ç³»ç»Ÿç®¡ç† -&gt; ç³»ç»Ÿè®¾ç½® è¿›å…¥å¹¶æ‹‰åˆ°æœ€ä¸‹é¢ï¼Œè¾“å…¥ Nameã€Hostnameã€Usernameã€Passphrase / Password ç­‰å‚æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>ç„¶åç‚¹å‡» Test Configuration æ ¡éªŒèƒ½å¦ç™»é™†ã€‚</p><p>è‡³æ­¤ Jenkins å·²ç»å®Œæˆäº†å…¨å±€é…ç½®ã€‚</p><p>å…³è” Jenkins å’Œ Github<br>åœ¨ GitHub åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œä»¥æœ¬é¡¹ç›®ä¸ºä¾‹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º nginx.conf å’Œ docker-compose.yml æ–‡ä»¶</p><p>nginx.conf<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#user  nobody;</span></span><br><span class="line">worker_processes 1;</span><br><span class="line"></span><br><span class="line"><span class="comment">#error_log  logs/error.log;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  notice;</span></span><br><span class="line"><span class="comment">#error_log  logs/error.log  info;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pid        logs/nginx.pid;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">  worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">  include mime.types;</span><br><span class="line">  default_type application/octet-stream;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">  <span class="comment">#                  '$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">  <span class="comment">#                  '"$http_user_agent" "$http_x_forwarded_for"';</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#access_log  logs/access.log  main;</span></span><br><span class="line"></span><br><span class="line">  sendfile on;</span><br><span class="line">  <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#keepalive_timeout  0;</span></span><br><span class="line">  keepalive_timeout 65;</span><br><span class="line"></span><br><span class="line">  <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">  server &#123;</span><br><span class="line">    listen 10000;</span><br><span class="line">    server_name 192.168.56.101;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">      index index.html index.htm;</span><br><span class="line">      root /usr/share/nginx/html;</span><br><span class="line">      <span class="comment"># æ‰€æœ‰é™æ€èµ„æºå‡æŒ‡å‘ /index.html</span></span><br><span class="line">      try_files <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    error_page 500 502 503 504 /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">      root  /usr/share/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># location /api &#123;</span></span><br><span class="line">    <span class="comment">#   proxy_pass http://server:port;</span></span><br><span class="line">    <span class="comment"># &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    root           html;</span></span><br><span class="line">    <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">    <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">    <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">    <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># deny access to .htaccess files, if Apache's document root</span></span><br><span class="line">    <span class="comment"># concurs with nginx's one</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">    <span class="comment">#    deny  all;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>docker-compose.yml</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">'3'</span></span><br><span class="line">services:</span><br><span class="line">  ad-tpl-vue: <span class="comment">#é¡¹ç›®name</span></span><br><span class="line">    container_name: <span class="string">'webhtml'</span> <span class="comment">#å®¹å™¨åç§°</span></span><br><span class="line">    image: nginx</span><br><span class="line">    restart: always</span><br><span class="line">    ports:</span><br><span class="line">      - 10000:10000</span><br><span class="line">    volumes:</span><br><span class="line">      - ./nginx.conf:/etc/nginx/nginx.conf <span class="comment">#æŒ‚è½½nginxé…ç½®</span></span><br><span class="line">      - ./dist:/usr/share/nginx/html/ <span class="comment">#æŒ‚è½½é¡¹ç›®</span></span><br><span class="line">    privileged: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦è§£é‡Šä¸‹ volumes å‚æ•°ï¼Œåœ¨æ‰“åŒ… Docker é•œåƒæ—¶ï¼Œå¦‚æœå°† nginx.conf å’Œ dist ç›´æ¥æ‹·è´åˆ°é•œåƒä¸­ï¼Œé‚£ä¹ˆæ¯æ¬¡ä¿®æ”¹ç›¸å…³æ–‡ä»¶æ—¶ï¼Œéƒ½éœ€è¦é‡æ–°æ‰“åŒ…æ–°çš„é•œåƒã€‚é€šè¿‡ volumes å¯ä»¥å°†å®¿ä¸»æœºçš„æŸä¸ªæ–‡ä»¶æ˜ å°„åˆ°å®¹å™¨çš„æŸä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆæ”¹åŠ¨ç›¸å…³æ–‡ä»¶ï¼Œå°±ä¸è¦é‡æ–°æ‰“åŒ…é•œåƒäº†ï¼Œåªéœ€ä¿®æ”¹å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶å³å¯ã€‚</p><p>ç„¶ååœ¨ Jenkins åˆ›å»ºä¸€ä¸ªæ–°çš„ä»»åŠ¡ï¼Œé€‰æ‹©ã€æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®ã€‘ï¼Œå¹¶è®¾ç½®ç›¸å…³é…ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p>å…¶ä¸­ç¬¬ä¸‰å¼ å›¾ä¸¤éƒ¨åˆ†å‘½ä»¤å«ä¹‰å¦‚ä¸‹ï¼š</p><p>ç¬¬ä¸€éƒ¨åˆ† shell å‘½ä»¤æ˜¯ build å‰ç«¯é¡¹ç›®ï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆ dist ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">npm install</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒéƒ¨åˆ† shell å‘½ä»¤å°±æ˜¯é€šè¿‡ ssh ç™»é™†æœåŠ¡å™¨ï¼Œé€šè¿‡ docker-compose è¿›è¡Œæ„å»º docker é•œåƒå¹¶è¿è¡Œå®¹å™¨ã€‚ç›¸è¾ƒäºç›´æ¥ä½¿ç”¨ docker ï¼Œå½“æ›´æ–°ä»£ç æ—¶æ— éœ€æ‰§è¡Œåœæ­¢åˆ é™¤å®¹å™¨ï¼Œé‡æ–°æ„å»ºæ–°çš„é•œåƒç­‰æ“ä½œã€‚<br>cd /root/jenkins_home/workspace/ad-tpl-vue \<br>&amp;&amp; docker-compose stop &amp;&amp; docker-compose up -d</p><p>æœ€åå¯ä»¥å›åˆ°è¯¥ä»»åŠ¡é¡µï¼Œç‚¹å‡»ã€ç«‹å³æ„å»ºã€‘æ¥æ„å»ºæˆ‘ä»¬çš„é¡¹ç›®äº†ã€‚<br>å®ç°è‡ªåŠ¨è§¦å‘æ‰“åŒ…<br>ä¸è¿‡ä»æœ‰ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å½“å‘ GitHub è¿œç¨‹ä»“åº“ push ä»£ç æ—¶ï¼Œéœ€è¦èƒ½å¤Ÿè‡ªåŠ¨è§¦å‘æ„å»ºï¼Œç›¸å…³æ“ä½œå¦‚ä¸‹ã€‚<br>1.ä¿®æ”¹ Jenkins å®‰å…¨ç­–ç•¥</p><p>é€šè¿‡ç³»ç»Ÿç®¡ç† -&gt; å…¨å±€å®‰å…¨é…ç½® è¿›å…¥ï¼Œå¹¶å¦‚ä¸‹å›¾æ“ä½œ</p><p>2.ç”Ÿæˆ Jenkins API Token</p><p>é€šè¿‡ç”¨æˆ·åˆ—è¡¨ -&gt; ç‚¹å‡»ç®¡ç†å‘˜ç”¨æˆ· -&gt; è®¾ç½®ï¼Œç‚¹å‡»æ·»åŠ æ–° tokenï¼Œç„¶åå¤åˆ¶èº«ä»½éªŒè¯ä»¤ç‰Œ token</p><p>3.åœ¨ Jenkins é¡¹ç›®å¯¹åº”ä»»åŠ¡çš„è®¾ç½®ä¸­é…ç½®ã€æ„å»ºè§¦å‘å™¨ã€‘ï¼Œå°†åˆšå¤åˆ¶çš„ token ç²˜è´´è¿›å»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>4.åœ¨ Github ç›¸å…³é¡¹ç›®ä¸­æ‰“å¼€ Setting -&gt; Webhooks -&gt; Add webhooksï¼Œè¾“å…¥æ ¼å¼å¦‚ä¸‹çš„ URL :<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰é¢æ˜¯ Jenkins æœåŠ¡åœ°å€ï¼Œad-tpl-vue æŒ‡åœ¨ Jenkins çš„ä»»åŠ¡åç§°ï¼ŒTokenæŒ‡ä¸Šé¢è·å–çš„ä»¤ç‰Œ</span></span><br><span class="line">http:<span class="comment">//12x.xxx.xxx.xxx:xxxx/job/ad-tpl-vue/build?token=Token</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†åœ¨ push æ–°çš„ä»£ç åï¼Œè‡ªåŠ¨è§¦å‘ Jenkins æ‰“åŒ…é¡¹ç›®ä»£ç ï¼Œå¹¶æ‰“åŒ… docker é•œåƒç„¶åè¿è¡Œã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç”±äºä¹‹å‰å†™è¿‡react+nodejs+mongodbçš„é¡¹ç›®ï¼Œåªæ˜¯åœ¨æœ¬åœ°å¼€å‘å®Œæˆï¼Œæƒ³å°è¯•æ­£å¸¸å¼€å‘éƒ¨ç½²ä¸Šçº¿æµå‡ºèµ°ä¸€æ³¢ï¼Œç„¶è€Œåœ¨ç½‘ä¸Šæœç´¢ä¸€ç•ªï¼Œå¤§éƒ¨åˆ†
      
    
    </summary>
    
    
      <category term="docker" scheme="https://github.com/chengheai/tags/docker/"/>
    
      <category term="nginx" scheme="https://github.com/chengheai/tags/nginx/"/>
    
      <category term="jenkins" scheme="https://github.com/chengheai/tags/jenkins/"/>
    
  </entry>
  
  <entry>
    <title>el-date-picker daterangeè®¾ç½®ä¸Šä¸‹7å¤©é€‰æ‹©åŒºé—´</title>
    <link href="https://github.com/chengheai/2020/06/11/daterange%E8%AE%BE%E7%BD%AE%E4%B8%8A%E4%B8%8B7%E5%A4%A9%E9%80%89%E6%8B%A9%E5%8C%BA%E9%97%B4/"/>
    <id>https://github.com/chengheai/2020/06/11/daterangeè®¾ç½®ä¸Šä¸‹7å¤©é€‰æ‹©åŒºé—´/</id>
    <published>2020-06-11T06:18:25.000Z</published>
    <updated>2021-10-09T08:48:32.064Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æ—¶é—´é€‰æ‹©åŒºé—´æƒ³ä¸ªä¸èƒ½è¶…è¿‡ 7 å¤©</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"æœç´¢æ—¶é—´:"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-date-picker</span></span></span><br><span class="line"><span class="tag"><span class="attr">v-model</span>=<span class="string">"form.rangeDate"</span></span></span><br><span class="line"><span class="tag"><span class="attr">value-format</span>=<span class="string">"yyyy-MM-dd"</span></span></span><br><span class="line"><span class="tag"><span class="attr">type</span>=<span class="string">"daterange"</span></span></span><br><span class="line"><span class="tag"><span class="attr">:picker-options</span>=<span class="string">"pickerOptions"</span></span></span><br><span class="line"><span class="tag"><span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">@<span class="attr">change</span>=<span class="string">"handleFormChange"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">data()&#123;</span><br><span class="line">  <span class="keyword">let</span> that = <span class="keyword">this</span> <span class="comment">// å…³é”®</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    pickerOptions: &#123;</span><br><span class="line">      disabledDate(time) &#123;</span><br><span class="line">        <span class="keyword">let</span> timeOptionRange = that.timeOptionRange</span><br><span class="line">        <span class="keyword">let</span> secondNum = <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">7</span> * <span class="number">1000</span></span><br><span class="line">        <span class="keyword">if</span> (timeOptionRange) &#123;</span><br><span class="line">          <span class="keyword">return</span> time.getTime() &gt; timeOptionRange.getTime() + secondNum || time.getTime() &lt; timeOptionRange.getTime() - secondNum</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;, onPick(time) &#123;</span><br><span class="line">        <span class="comment">// å½“ç¬¬ä¸€æ—¶é—´é€‰ä¸­æ‰è®¾ç½®ç¦ç”¨</span></span><br><span class="line">        <span class="keyword">if</span> (time.minDate &amp;&amp; !time.maxDate) &#123;</span><br><span class="line">          that.timeOptionRange = time.minDate</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (time.maxDate) &#123;</span><br><span class="line">          that.timeOptionRange = <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;æ—¶é—´é€‰æ‹©åŒºé—´æƒ³ä¸ªä¸èƒ½è¶…è¿‡ 7 å¤©&lt;/p&gt;
&lt;h2 id=&quot;ä»£ç &quot;&gt;&lt;a href=&quot;#ä»£ç &quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
    
      <category term="element-ui" scheme="https://github.com/chengheai/tags/element-ui/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³vueä¸­ç§»åŠ¨ç«¯iosé”®ç›˜æ”¶èµ·é¡µé¢ä¸å½’ä½é—®é¢˜</title>
    <link href="https://github.com/chengheai/2020/03/24/%E8%A7%A3%E5%86%B3vue%E4%B8%AD%E7%A7%BB%E5%8A%A8%E7%AB%AFios%E9%94%AE%E7%9B%98%E6%94%B6%E8%B5%B7%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%BD%92%E4%BD%8D%E9%97%AE%E9%A2%98/"/>
    <id>https://github.com/chengheai/2020/03/24/è§£å†³vueä¸­ç§»åŠ¨ç«¯iosé”®ç›˜æ”¶èµ·é¡µé¢ä¸å½’ä½é—®é¢˜/</id>
    <published>2020-03-24T12:36:07.000Z</published>
    <updated>2021-10-09T08:48:32.097Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç½‘ä¸Šæ‰¾çš„ä¾‹å­<br>åƒç¯‡ä¸€å¾‹ï½ï½ï½ï½ï½<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20200324-204643@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure></p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">focusout</span>=<span class="string">"inputBlur"</span> @<span class="attr">focusin</span>=<span class="string">"inputFocus"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥æ‰‹æœºå·"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥éªŒè¯ç "</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        timer: <span class="literal">null</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      inputBlur(e) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (e &amp;&amp; e.target &amp;&amp; e.target.tagName &amp;&amp; e.target.tagName.toLowerCase() === <span class="string">'input'</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span></span><br><span class="line">          &#125;, 0);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      inputFocus(e) &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (e &amp;&amp; e.target &amp;&amp; e.target.tagName &amp;&amp; e.target.tagName.toLowerCase() === <span class="string">'input'</span>) &#123;</span></span><br><span class="line"><span class="javascript">          clearTimeout(<span class="keyword">this</span>.timer);</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"scss"</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ç½‘ä¸Šæ‰¾çš„ä¾‹å­&lt;br&gt;åƒç¯‡ä¸€å¾‹ï½ï½ï½ï½ï½&lt;br&gt;&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;
      
    
    </summary>
    
    
      <category term="vue" scheme="https://github.com/chengheai/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>el-time-pickerè‡ªå®šä¹‰é€‰æ‹©å¤§äºå½“å‰æ—¶é—´é™åˆ¶</title>
    <link href="https://github.com/chengheai/2020/03/11/el-time-picker%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%89%E6%8B%A9%E5%A4%A7%E4%BA%8E%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4%E9%99%90%E5%88%B6/"/>
    <id>https://github.com/chengheai/2020/03/11/el-time-pickerè‡ªå®šä¹‰é€‰æ‹©å¤§äºå½“å‰æ—¶é—´é™åˆ¶/</id>
    <published>2020-03-11T13:02:59.000Z</published>
    <updated>2021-10-09T08:48:32.066Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>something think</p><h2 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h2><p><a href="https://chengheai.github.io/daily-vue-demo/#/date-picker" target="_blank" rel="noopener">åœ¨çº¿ demoğŸ±ğŸ¤“ğŸ‘€</a></p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:model</span>=<span class="string">"ruleForm"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:rules</span>=<span class="string">"rules"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">ref</span>=<span class="string">"ruleForm"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">label-width</span>=<span class="string">"150px"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"demo-ruleForm"</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">"å¤§äºå½“å‰æ—¶é—´"</span> <span class="attr">prop</span>=<span class="string">"mytime"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-date-picker</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"datetime"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">placeholder</span>=<span class="string">"é€‰æ‹©æ—¥æœŸ"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value-format</span>=<span class="string">"timestamp"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:picker-options</span>=<span class="string">"pickerOptions"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-model</span>=<span class="string">"ruleForm.mytime"</span></span></span><br><span class="line"><span class="tag">      &gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"primary"</span> @<span class="attr">click</span>=<span class="string">"submitForm('ruleForm')"</span>&gt;</span>ç«‹å³åˆ›å»º<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"resetForm('ruleForm')"</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      <span class="keyword">var</span> validateTime = <span class="function">(<span class="params">rule, value, callback</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (value &lt;= <span class="built_in">Date</span>.now()) &#123;</span><br><span class="line">          callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'é€‰æ‹©æ—¶é—´å¿…é¡»å¤§äºå½“å‰æ—¶é—´'</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          callback();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        pickerOptions: &#123;</span><br><span class="line">          <span class="comment">// é™åˆ¶æ”¶è´§æ—¶é—´ä¸è®©é€‰æ‹©ä»Šå¤©ä»¥å‰çš„</span></span><br><span class="line">          disabledDate(time) &#123;</span><br><span class="line">            <span class="keyword">return</span> time.getTime() &lt; <span class="built_in">Date</span>.now() - <span class="number">8.64e7</span>;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        ruleForm: &#123;</span><br><span class="line">          mytime: <span class="string">''</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        rules: &#123;</span><br><span class="line">          mytime: [</span><br><span class="line">            &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">'è¯·é€‰æ‹©æ—¶é—´'</span>, <span class="attr">trigger</span>: <span class="string">'change'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">validator</span>: validateTime, <span class="attr">trigger</span>: <span class="string">'blur'</span> &#125;,</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      submitForm(formName) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$refs[formName].validate(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">            alert(<span class="string">'submit!'</span>);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'error submit!!'</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      resetForm(formName) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$refs[formName].resetFields();</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;something think&lt;/p&gt;
&lt;h2 id=&quot;DEMO&quot;&gt;&lt;a href=&quot;#DEMO&quot; class=&quot;headerlink&quot; t
      
    
    </summary>
    
    
      <category term="element-ui" scheme="https://github.com/chengheai/tags/element-ui/"/>
    
  </entry>
  
  <entry>
    <title>åŸç”Ÿjså®ç°reduxä¸­getState,subscribe,listener,dispatchå‡½æ•°</title>
    <link href="https://github.com/chengheai/2020/03/01/%E5%8E%9F%E7%94%9Fjs%E5%AE%9E%E7%8E%B0redux%E4%B8%ADgetState-subscribe-listener-dispatch%E5%87%BD%E6%95%B0/"/>
    <id>https://github.com/chengheai/2020/03/01/åŸç”Ÿjså®ç°reduxä¸­getState-subscribe-listener-dispatchå‡½æ•°/</id>
    <published>2020-03-01T12:05:52.000Z</published>
    <updated>2021-10-09T08:48:32.086Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸç”Ÿä»£ç "><a href="#åŸç”Ÿä»£ç " class="headerlink" title="åŸç”Ÿä»£ç "></a>åŸç”Ÿä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åŸç”Ÿjså®ç°dispatch å‡½æ•° --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"title"</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span>å†…å®¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> render = <span class="function"><span class="keyword">function</span>(<span class="params">state</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">'title'</span>).innerHTML = state.title;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">'content'</span>).innerHTML = state.content;</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªdispatchè¿‡ç¨‹</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> appReducer = <span class="function"><span class="keyword">function</span>(<span class="params">state, action</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿”å›é»˜è®¤çš„state</span></span></span><br><span class="line">        if (!state) &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            title: <span class="string">'åˆå§‹åŒ–title'</span>,</span></span><br><span class="line"><span class="javascript">            content: <span class="string">'åˆå§‹åŒ–content'</span>,</span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">//è¿”å›ç›¸åº”çš„state</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (action.type) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">'CHANGE_TITLE'</span>:</span></span><br><span class="line"><span class="javascript">            <span class="comment">// stateä¿®æ”¹</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line">              ...state,</span><br><span class="line">              title: action.newTitle,</span><br><span class="line">            &#125;;</span><br><span class="line"><span class="javascript">          <span class="keyword">default</span>:</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> state;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">// å¸Œæœ›è°ƒç”¨createStoreå°±è¿”å›ä¸€ä¸ªstore</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// çº¯å‡½æ•° ä¼ å…¥ä»€ä¹ˆè¿”å›ä»€ä¹ˆ</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> createStore = <span class="function"><span class="keyword">function</span>(<span class="params">reducer</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> state = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// ç›‘å¬è€…ä»¬</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> listeners = [];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> dispatch = <span class="function"><span class="keyword">function</span>(<span class="params">action</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//</span></span></span><br><span class="line"><span class="javascript">          state = reducer(state, action); <span class="comment">// reducerè¿”å›æ–°çš„state</span></span></span><br><span class="line"><span class="javascript">          listeners.forEach(<span class="function"><span class="params">listener</span> =&gt;</span> listener());</span></span><br><span class="line">        &#125;;</span><br><span class="line">        dispatch(&#123;&#125;);</span><br><span class="line"><span class="javascript">        getState = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> state;</span></span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="comment">// è®¢é˜…</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> subscribe = <span class="function"><span class="keyword">function</span>(<span class="params">listener</span>) </span>&#123;</span></span><br><span class="line">          listeners.push(listener);</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">          subscribe,</span><br><span class="line">          dispatch,</span><br><span class="line">          getState,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">// store åŒ…å«subscribe,dispatch,getState</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> store = createStore(appReducer);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      store.subscribe(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        render(store.getState());</span><br><span class="line">      &#125;);</span><br><span class="line"><span class="javascript">      store.subscribe(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(store.getState());</span></span><br><span class="line">      &#125;);</span><br><span class="line">      store.dispatch(&#123;</span><br><span class="line"><span class="javascript">        type: <span class="string">'CHANGE_TITLE'</span>,</span></span><br><span class="line"><span class="javascript">        newTitle: <span class="string">'this is new title'</span>,</span></span><br><span class="line">      &#125;);</span><br><span class="line">      render(store.getState());</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åŸç”Ÿä»£ç &quot;&gt;&lt;a href=&quot;#åŸç”Ÿä»£ç &quot; class=&quot;headerlink&quot; title=&quot;åŸç”Ÿä»£ç &quot;&gt;&lt;/a&gt;åŸç”Ÿä»£ç &lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre
      
    
    </summary>
    
    
      <category term="redux" scheme="https://github.com/chengheai/tags/redux/"/>
    
  </entry>
  
  <entry>
    <title>jsåŸç”Ÿæ–¹æ³•å®ç°reactå¼€å‘æ¨¡å¼ä¸ç»„ä»¶åŒ–åŒ…è£…</title>
    <link href="https://github.com/chengheai/2020/02/25/js%E5%8E%9F%E7%94%9F%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0react%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%E4%B8%8E%E7%BB%84%E4%BB%B6%E5%8C%96%E5%8C%85%E8%A3%85/"/>
    <id>https://github.com/chengheai/2020/02/25/jsåŸç”Ÿæ–¹æ³•å®ç°reactå¼€å‘æ¨¡å¼ä¸ç»„ä»¶åŒ–åŒ…è£…/</id>
    <published>2020-02-25T14:04:02.000Z</published>
    <updated>2021-10-09T08:48:32.072Z</updated>
    
    <content type="html"><![CDATA[<h2 id="react-åŸç”Ÿå¼€å‘æ¨¡å¼"><a href="#react-åŸç”Ÿå¼€å‘æ¨¡å¼" class="headerlink" title="react åŸç”Ÿå¼€å‘æ¨¡å¼"></a>react åŸç”Ÿå¼€å‘æ¨¡å¼</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ›´åŠ æ¥è¿‘reactçš„å¼€å‘æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> root = <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// çŠ¶æ€</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> state = &#123;</span></span><br><span class="line"><span class="javascript">        like: <span class="literal">false</span>,</span></span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> setState = <span class="function"><span class="keyword">function</span>(<span class="params">newState</span>) </span>&#123;</span></span><br><span class="line">        state = &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          ...newState,</span><br><span class="line">        &#125;;</span><br><span class="line">        render();</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="comment">// æ¸²æŸ“</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> render = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        root.innerHTML = `</span><br><span class="line"><span class="javascript">      &lt;button type=<span class="string">'button'</span> style=<span class="string">'color:$&#123;state.like ? '</span>red<span class="string">' : '</span>black<span class="string">'&#125;'</span> onclick=<span class="string">'handleClick()'</span>&gt;</span></span><br><span class="line"><span class="javascript">      $&#123;state.like ? <span class="string">'å·²èµ'</span> : <span class="string">'å–œæ¬¢'</span>&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">      `;</span><br><span class="line">      &#125;;</span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> handleClick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        setState(&#123;</span><br><span class="line">          like: !state.like,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;;</span><br><span class="line">      render();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç»„ä»¶åŒ–åŒ…è£…"><a href="#ç»„ä»¶åŒ–åŒ…è£…" class="headerlink" title="ç»„ä»¶åŒ–åŒ…è£…"></a>ç»„ä»¶åŒ–åŒ…è£…</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç»„ä»¶åŒ–åŒ…è£… --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> root = <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æå–setStateæ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">      <span class="class"><span class="keyword">class</span> <span class="title">Component</span> </span>&#123;</span></span><br><span class="line">        setState(newState) &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.state = &#123;</span></span><br><span class="line">            ...this.state,</span><br><span class="line">            ...newState,</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="comment">// extends ç»§æ‰¿ç»„ä»¶Componentçš„setStateæ–¹æ³• + super()</span></span></span><br><span class="line"><span class="javascript">      <span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">constructor</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">super</span>();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.state = &#123;</span></span><br><span class="line"><span class="javascript">            like: <span class="literal">true</span>,</span></span><br><span class="line">          &#125;;</span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.render();</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// setState(newState) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   this.state = &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     ...this.state,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     newState</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   this.render()</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line">        render() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> state = <span class="keyword">this</span>.state;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="javascript">           &lt;button type=<span class="string">'button'</span> style=<span class="string">'color:$&#123;state.like ? '</span>red<span class="string">' : '</span>black<span class="string">'&#125;'</span>&gt;</span></span><br><span class="line"><span class="javascript">      $&#123;state.like ? <span class="string">'å·²èµ'</span> : <span class="string">'å–œæ¬¢'</span>&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        `;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="comment">// extends ç»§æ‰¿ç»„ä»¶Componentçš„setStateæ–¹æ³• + super()</span></span></span><br><span class="line"><span class="javascript">      <span class="class"><span class="keyword">class</span> <span class="title">Title</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">constructor</span>() &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">super</span>();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">this</span>.state = &#123;</span></span><br><span class="line"><span class="javascript">            text: <span class="string">'è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜'</span>,</span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// setState(newState) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   this.state = &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     ...this.state,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     newState</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line">        render() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">`&lt;h1&gt;<span class="subst">$&#123;<span class="keyword">this</span>.state.text&#125;</span>&lt;/h1&gt;`</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      <span class="comment">// ç»„ä»¶å¤ç”¨</span></span></span><br><span class="line"><span class="javascript">      <span class="class"><span class="keyword">class</span> <span class="title">Wrap</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">constructor</span>() &#123;&#125;</span></span><br><span class="line">        render() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="string">`Wrap <span class="subst">$&#123;<span class="keyword">new</span> Title().render()&#125;</span> <span class="subst">$&#123;<span class="keyword">new</span> Button().render()&#125;</span>`</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="javascript">      root.innerHTML = <span class="keyword">new</span> Wrap().render();</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;react-åŸç”Ÿå¼€å‘æ¨¡å¼&quot;&gt;&lt;a href=&quot;#react-åŸç”Ÿå¼€å‘æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;react åŸç”Ÿå¼€å‘æ¨¡å¼&quot;&gt;&lt;/a&gt;react åŸç”Ÿå¼€å‘æ¨¡å¼&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;t
      
    
    </summary>
    
    
      <category term="react" scheme="https://github.com/chengheai/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>nodejsä¸­å¸¸è§çš„è·¨åŸŸå¤„ç†</title>
    <link href="https://github.com/chengheai/2020/02/23/nodejs%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E8%B7%A8%E5%9F%9F%E5%A4%84%E7%90%86/"/>
    <id>https://github.com/chengheai/2020/02/23/nodejsä¸­å¸¸è§çš„è·¨åŸŸå¤„ç†/</id>
    <published>2020-02-23T13:29:53.000Z</published>
    <updated>2021-10-09T08:48:32.074Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·¨åŸŸé—®é¢˜"><a href="#è·¨åŸŸé—®é¢˜" class="headerlink" title="è·¨åŸŸé—®é¢˜"></a>è·¨åŸŸé—®é¢˜</h2><p>ajax åŒæºç­–ç•¥ åè®® ä¸»æœº(ip,åŸŸå) ç«¯å£å·</p><ol><li>åè®®ï¼Œç«¯å£</li><li>cors</li><li>header å¤´æ–‡ä»¶ä¿¡æ¯</li><li>jsonp</li><li>æœåŠ¡å™¨</li></ol><h2 id="è§£å†³-ğŸ§â€â™€ï¸"><a href="#è§£å†³-ğŸ§â€â™€ï¸" class="headerlink" title="è§£å†³ ğŸ§â€â™€ï¸"></a>è§£å†³ ğŸ§â€â™€ï¸</h2><blockquote><p>åè®®ï¼Œç«¯å£</p></blockquote><p>å°†è·¨åŸŸçš„æ–‡ä»¶æ”¾å…¥ä¸æœåŠ¡å™¨ä¸€æ ·çš„æ–‡ä»¶ä¸‹</p><blockquote><p>cors</p></blockquote><p>ä»¥ express ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">'cors'</span>);</span><br><span class="line">...</span><br><span class="line">your codes...</span><br><span class="line">...</span><br><span class="line">app.use(cors());</span><br></pre></td></tr></table></figure><blockquote><p>header å¤´æ–‡ä»¶ä¿¡æ¯</p></blockquote><p>ä»¥ express ä¸ºä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line">...</span><br><span class="line">your codes...</span><br><span class="line">...</span><br><span class="line">app.all(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Origin"</span>, <span class="string">"*"</span>);</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Headers"</span>, <span class="string">"X-Requested-With,Content-Type"</span>);</span><br><span class="line">    res.header(<span class="string">"Access-Control-Allow-Methods"</span>,<span class="string">"PUT,POST,GET,DELETE,OPTIONS"</span>);</span><br><span class="line">    next();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>jsonp</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JSONP.getJSON(<span class="string">'http://api.com'</span>, data, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>æœåŠ¡å™¨</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">const</span> request = <span class="built_in">require</span>(<span class="string">'request'</span>);</span><br><span class="line">...</span><br><span class="line">your codes...</span><br><span class="line">...</span><br><span class="line"><span class="comment">// æœ¬åœ°apiæ¥å£</span></span><br><span class="line">app.get(<span class="string">'/cors'</span>, (req, res) =&gt; &#123;</span><br><span class="line">  <span class="comment">// å‘é€ä¸€ä¸ªæœåŠ¡å™¨è¯·æ±‚</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'cors.htmlçš„ajax'</span>);</span><br><span class="line">  <span class="comment">// ç›®æ ‡æœåŠ¡å™¨ï¼Œä½ æƒ³è¯·æ±‚çš„æœåŠ¡å™¨api</span></span><br><span class="line">  request(<span class="string">'http://www.google.com/xx/api/v1'</span>, (err, response, body) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(body);</span><br><span class="line">    <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">      res.send(body);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·¨åŸŸé—®é¢˜&quot;&gt;&lt;a href=&quot;#è·¨åŸŸé—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;è·¨åŸŸé—®é¢˜&quot;&gt;&lt;/a&gt;è·¨åŸŸé—®é¢˜&lt;/h2&gt;&lt;p&gt;ajax åŒæºç­–ç•¥ åè®® ä¸»æœº(ip,åŸŸå) ç«¯å£å·&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åè®®ï¼Œç«¯å£&lt;/li&gt;
&lt;li&gt;cors&lt;/l
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://github.com/chengheai/tags/nodejs/"/>
    
      <category term="è·¨åŸŸ" scheme="https://github.com/chengheai/tags/%E8%B7%A8%E5%9F%9F/"/>
    
  </entry>
  
  <entry>
    <title>å°ç¨‹åºä¸­ä¼˜é›…çš„è·å–æ‰‹æœºå·</title>
    <link href="https://github.com/chengheai/2020/01/08/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E4%BC%98%E9%9B%85%E7%9A%84%E8%8E%B7%E5%8F%96%E6%89%8B%E6%9C%BA%E5%8F%B7/"/>
    <id>https://github.com/chengheai/2020/01/08/å°ç¨‹åºä¸­ä¼˜é›…çš„è·å–æ‰‹æœºå·/</id>
    <published>2020-01-08T13:33:09.000Z</published>
    <updated>2021-10-09T08:48:32.088Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨å†™å°ç¨‹åºé¡¹ç›®ï¼Œæœ‰ä¸ªè·å–æ‰‹æœºå·åŠŸèƒ½ï¼Œç½‘ä¸Šè¡äº†ä¸€ä¸‹ï¼Œè™½ä¸è¯´æ˜¯ä»£ç é—®é¢˜ï¼Œæœ‰äº›æ–‡ç« éƒ½æ˜¯æ®‹ç¼ºä¸å…¨çš„ï¼Œè¯´åˆ°å®¹æ˜“é”™è¯¯çš„åŒºåŸŸåˆå¹¶æœªä½¿ç”¨ä»£ç é¿å…ï¼Œè¯´è€Œä¸åšçš„é—®é¢˜ï¼Œç´¢æ€§è‡ªå·±ç»“åˆç½‘ä¸Šçš„æ–‡ç« åŠå®˜ç½‘æ–‡æ¡£å†™äº†ä¸€å¥—å®Œæ•´çš„ä»£ç ï¼Œå®Œå…¨å¼€ç®±å³ç”¨ ğŸ„ğŸ»â€â™‚ï¸ğŸ®ğŸ¹ğŸ¸</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20200108-214825@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Page Object</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line">  getPhoneNumber: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'e'</span>, e);</span><br><span class="line">    <span class="comment">//-----------------æ˜¯å¦æˆæƒï¼Œæˆæƒé€šè¿‡è¿›å…¥ä¸»é¡µé¢ï¼Œæˆæƒæ‹’ç»åˆ™åœç•™åœ¨ç™»å½•ç•Œé¢</span></span><br><span class="line">    <span class="keyword">if</span> (e.detail.errMsg == <span class="string">'getPhoneNumber:fail user deny'</span>) &#123;</span><br><span class="line">      <span class="comment">//ç”¨æˆ·ç‚¹å‡»æ‹’ç»</span></span><br><span class="line">      wx.showModal(&#123;</span><br><span class="line">        content: <span class="string">'è¯·è¾“å…¥æ‰‹æœºå·'</span>,</span><br><span class="line">        showCancel: <span class="literal">false</span>,</span><br><span class="line">        success(res) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">            <span class="comment">// your code ...</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> phoneQuery = &#123;</span><br><span class="line">        encryptedData: e.detail.encryptedData,</span><br><span class="line">        iv: e.detail.iv,</span><br><span class="line">        <span class="comment">// other params...</span></span><br><span class="line">        openid: wx.getStorageSync(<span class="string">'openid'</span>),</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// æ£€æŸ¥æ˜¯session_keyå¦è¿‡æœŸ</span></span><br><span class="line">      wx.checkSession(&#123;</span><br><span class="line">        success() &#123;</span><br><span class="line">          <span class="comment">//session_key æœªè¿‡æœŸï¼Œå¹¶ä¸”åœ¨æœ¬ç”Ÿå‘½å‘¨æœŸä¸€ç›´æœ‰æ•ˆ</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'session_key æœªè¿‡æœŸï¼Œå¹¶ä¸”åœ¨æœ¬ç”Ÿå‘½å‘¨æœŸä¸€ç›´æœ‰æ•ˆ'</span>);</span><br><span class="line">          wx.request(&#123;</span><br><span class="line">            url: <span class="string">'https://xxx.com/api/v1/xx'</span>,</span><br><span class="line">            method: <span class="string">'POST'</span>,</span><br><span class="line">            data: phoneQuery,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">              <span class="comment">// your code...</span></span><br><span class="line">            &#125;,</span><br><span class="line">            fail: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">              <span class="comment">// your code...</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        fail() &#123;</span><br><span class="line">          that.myLogin();</span><br><span class="line">          <span class="comment">// session_key å·²ç»å¤±æ•ˆï¼Œéœ€è¦é‡æ–°æ‰§è¡Œç™»å½•æµç¨‹</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// login</span></span><br><span class="line">  myLogin() &#123;</span><br><span class="line">    wx.login(&#123;</span><br><span class="line">      success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//ç”¨codeä¼ ç»™æœåŠ¡å™¨è°ƒæ¢session_key</span></span><br><span class="line">        <span class="keyword">let</span> query = &#123;</span><br><span class="line">          code: res.code,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// my_loginä¸ºwx.request(&#123;&#125;)å°è£…</span></span><br><span class="line">        my_login(query).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// other code...</span></span><br><span class="line">          wx.setStorageSync(<span class="string">'unionid'</span>, unionid);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//options(Object)</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;&#125;,</span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onReachBottom: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onShareAppMessage: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  onPageScroll: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  <span class="comment">//item(index,pagePath,text)</span></span><br><span class="line">  onTabItemTap: <span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨å†™å°ç¨‹åºé¡¹ç›®ï¼Œæœ‰ä¸ªè·å–æ‰‹æœºå·åŠŸèƒ½ï¼Œç½‘ä¸Šè¡äº†ä¸€ä¸‹ï¼Œè™½ä¸è¯´æ˜¯ä»£ç é—®é¢˜ï¼Œæœ‰äº›æ–‡ç« éƒ½æ˜¯æ®‹ç¼ºä¸å…¨çš„ï¼Œè¯´åˆ°å®¹æ˜“é”™è¯¯çš„åŒºåŸŸåˆå¹¶æœªä½¿ç”¨ä»£ç é¿å…ï¼Œè¯´è€Œä¸
      
    
    </summary>
    
    
      <category term="å°ç¨‹åº" scheme="https://github.com/chengheai/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ€ä¹ˆä½¿ç”¨dockerè¿è¡Œnuxté¡¹ç›®</title>
    <link href="https://github.com/chengheai/2020/01/07/%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8docker%E8%BF%90%E8%A1%8Cnuxt%E9%A1%B9%E7%9B%AE/"/>
    <id>https://github.com/chengheai/2020/01/07/æ€ä¹ˆä½¿ç”¨dockerè¿è¡Œnuxté¡¹ç›®/</id>
    <published>2020-01-07T13:18:36.000Z</published>
    <updated>2021-10-09T08:48:32.091Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸ªäººæ—¥å¸¸-DEMO"><a href="#ä¸ªäººæ—¥å¸¸-DEMO" class="headerlink" title="ä¸ªäººæ—¥å¸¸ DEMO"></a>ä¸ªäººæ—¥å¸¸ DEMO</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:chengheai/ssr-project.git</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ -Dockerfile"><a href="#æ·»åŠ -Dockerfile" class="headerlink" title="æ·»åŠ  Dockerfile"></a>æ·»åŠ  Dockerfile</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">touch Dockerfile</span><br><span class="line">vi Dockerfile</span><br><span class="line">FROM node:<span class="number">8.11</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line">WORKDIR /opt</span><br><span class="line">ADD node_modules /opt/node_modules</span><br><span class="line">ADD server /opt/server</span><br><span class="line">ADD .nuxt /opt/.nuxt</span><br><span class="line">ADD <span class="keyword">static</span> /opt/<span class="keyword">static</span></span><br><span class="line">ADD nuxt.config.js /opt</span><br><span class="line">ADD package.json /opt</span><br><span class="line">EXPOSE <span class="number">3000</span></span><br><span class="line">CMD [<span class="string">"npm"</span>, <span class="string">"run"</span>, <span class="string">"start"</span>]</span><br></pre></td></tr></table></figure><p>~FROM node:8.11.0ï¼šè¯¥ image æ–‡ä»¶ç»§æ‰¿å®˜æ–¹çš„ node imageï¼Œå†’å·è¡¨ç¤ºæ ‡ç­¾ï¼Œè¿™é‡Œæ ‡ç­¾æ˜¯ 8.11.0ï¼Œå³ 8.11.0 ç‰ˆæœ¬çš„ nodeã€‚<br>~ADD . /optï¼šå°†å½“å‰ç›®å½•æ–‡ä»¶ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆé™¤äº†.dockerignore æ’é™¤çš„è·¯å¾„ï¼‰ï¼Œéƒ½æ‹·è´è¿›å…¥ image æ–‡ä»¶çš„/opt ç›®å½•ã€‚<br>~WORKDIR /optï¼šæŒ‡å®šæ¥ä¸‹æ¥çš„å·¥ä½œè·¯å¾„ä¸º/optã€‚<br>~RUN npm install æˆ–è€… ADD node_modulesï¼šåœ¨/opt ç›®å½•ä¸‹ï¼Œè¿è¡Œ npm install å‘½ä»¤å®‰è£…ä¾èµ–ã€‚æ³¨æ„ï¼Œå®‰è£…åæ‰€æœ‰çš„ä¾èµ–ï¼Œéƒ½å°†æ‰“åŒ…è¿›å…¥ image æ–‡ä»¶ã€‚<br>~EXPOSE 3000: 3000 ç«¯å£æš´éœ²å‡ºæ¥ï¼Œ å…è®¸å¤–éƒ¨è¿æ¥è¿™ä¸ªç«¯å£ã€‚</p><h2 id="æ·»åŠ -dockerignore"><a href="#æ·»åŠ -dockerignore" class="headerlink" title="æ·»åŠ .dockerignore"></a>æ·»åŠ .dockerignore</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">touch .dockerignore</span><br><span class="line">vi .dockerignore</span><br><span class="line">  .git</span><br><span class="line">  <span class="comment"># node_modules</span></span><br><span class="line">  npm-debug.log</span><br></pre></td></tr></table></figure><h2 id="build"><a href="#build" class="headerlink" title="build"></a>build</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker image build -t ssr-project.</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">docker image build -t ssr-project:0.0.1 .</span><br><span class="line"><span class="comment"># æœ€åé¢çš„ç©ºæ ¼å’Œç‚¹ä¸è¦æ¼</span></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WechatIMG370.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="start"><a href="#start" class="headerlink" title="start"></a>start</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d --name ssr-server -p 3000:3000 <span class="built_in">test</span>-ssr</span><br><span class="line">ssr-server: å®¹å™¨åç§°</span><br><span class="line"><span class="built_in">test</span>-ssr: é•œåƒ</span><br><span class="line">å…³é—­</span><br><span class="line">$ docker stop ssr-server</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">okcer image ls // æŸ¥çœ‹ image</span><br><span class="line">docker image build -t ssr-project.  // å¸¸è§image</span><br><span class="line">docker rmi [containerID] // åˆ é™¤æŒ‡å®šé•œåƒ</span><br><span class="line">docker run -it --rm -p 3000:3000 ssr-project // docker container runå‘½ä»¤ä¼šä» image æ–‡ä»¶ç”Ÿæˆå®¹å™¨ã€‚--rmå‚æ•°ï¼Œåœ¨å®¹å™¨ç»ˆæ­¢è¿è¡Œåè‡ªåŠ¨åˆ é™¤å®¹å™¨æ–‡ä»¶</span><br><span class="line">docker ps // åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker ps -a  // åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker container ls // åˆ—å‡ºæœ¬æœºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker container ls --all // åˆ—å‡ºæœ¬æœºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker container rm [containerID] // åˆ é™¤æŒ‡å®šå®¹å™¨</span><br><span class="line">docker container <span class="built_in">kill</span> [containerID] // ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGKILL ä¿¡å·</span><br><span class="line">docker container stop [containerID] // ç»ˆæ­¢å®¹å™¨è¿è¡Œï¼Œç›¸å½“äºå‘å®¹å™¨é‡Œé¢çš„ä¸»è¿›ç¨‹å‘å‡º SIGTERM ä¿¡å·ï¼Œç„¶åè¿‡ä¸€æ®µæ—¶é—´å†å‘å‡º SIGKILL ä¿¡å·</span><br><span class="line">docker container start [containerID] // å¯åŠ¨å·²ç»ç”Ÿæˆã€å·²ç»åœæ­¢è¿è¡Œçš„å®¹å™¨</span><br><span class="line">docker container logs [containerID] // ç”¨æ¥æŸ¥çœ‹ docker å®¹å™¨çš„è¾“å‡ºï¼Œå³å®¹å™¨é‡Œé¢ Shell çš„æ ‡å‡†è¾“å‡º</span><br><span class="line">docker container <span class="built_in">exec</span> -it [containerID] /bin/bash // ç”¨äºè¿›å…¥ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ docker å®¹å™¨ è¿›å…¥å®¹å™¨å°±å¯ä»¥åœ¨å®¹å™¨çš„ Shell æ‰§è¡Œå‘½ä»¤äº†</span><br><span class="line">docker container cp [containID]:[/path/to/file] . // ç”¨äºä»æ­£åœ¨è¿è¡Œçš„ Docker å®¹å™¨é‡Œé¢ï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°æœ¬æœº</span><br></pre></td></tr></table></figure><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p><a href="https://www.cnblogs.com/DeepInThought/p/10896790.html" target="_blank" rel="noopener">docker å¸¸ç”¨æŒ‡ä»¤è¯´æ˜</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸ªäººæ—¥å¸¸-DEMO&quot;&gt;&lt;a href=&quot;#ä¸ªäººæ—¥å¸¸-DEMO&quot; class=&quot;headerlink&quot; title=&quot;ä¸ªäººæ—¥å¸¸ DEMO&quot;&gt;&lt;/a&gt;ä¸ªäººæ—¥å¸¸ DEMO&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td
      
    
    </summary>
    
    
      <category term="docker" scheme="https://github.com/chengheai/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªä¼˜ç§€çš„Stack Engineerè¯¥æœ‰çš„å§¿æ€</title>
    <link href="https://github.com/chengheai/2019/12/06/Engineer%E8%AF%A5%E6%9C%89%E7%9A%84%E5%A7%BF%E6%80%81/"/>
    <id>https://github.com/chengheai/2019/12/06/Engineerè¯¥æœ‰çš„å§¿æ€/</id>
    <published>2019-12-06T13:40:51.000Z</published>
    <updated>2021-10-09T08:48:32.056Z</updated>
    
    <content type="html"><![CDATA[<p>ç¨‹åºå‘˜,ä¸€ä¸ªåœ¨å¤–äººçœ‹æ¥æ˜¯é«˜è–ªã€å‰é€”æ— é‡çš„å·¥ä½œ,ä½†åˆæœ‰å¤šå°‘äººæ¸…æ¥š,æœ‰å¤šå°‘ç¨‹åºå‘˜æ˜¯ç”¨è‡ªå·±çš„èº«å¿ƒå¥åº·æ¢æ¥çš„è¿™ä¸€çœ‹ä¼¼åä¸½çš„è¤’èµã€‚å¥½å§,ç”Ÿæ´»æ€»æ˜¯ç»§ç»­å‘å‰çš„,æœ‰é—®é¢˜å°±è¦ç§¯æåœ°å»è§£å†³,æ›´ä½•å†µæ˜¯å…³ä¹è‡ªèº«çš„èº«å¿ƒå¥åº·é—®é¢˜,å¦‚æœä¸€å‘³çš„æŠ±æ€¨åªä¼šå°†è‡ªå·±æ¨å‘å¦ä¸€ä¸ªæ·±æ¸Šã€‚<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/17360129.jpg?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><br>ä»¥ä¸‹å»ºè®®,å¤§å®¶å¯ä»¥å‚è€ƒä¸€ä¸‹:</p><p>1ã€è¦å­¦ä¼šèµ°å¼€</p><p>ä¸€èˆ¬æ¥è¯´ç¨‹åºå‘˜å¤§å¤šæœ‰å®šåŠ›ã€åšäº‹æœ‰æ¡ç†ã€‚æˆ‘ä»¬ä¸æ„¿æ„æ‰¿è®¤å¤±è´¥,å½“ä¸é¡ºæ—¶æˆ‘ä»¬ä¹Ÿä¸æ„¿èµ°å¼€ã€‚ä½†å½“ä½ å·²åœ¨ä¸€ä¸ªé—®é¢˜ä¸ŠèŠ±è´¹äº†å¤ªé•¿æ—¶é—´çš„æ—¶å€™,æœ€å¥½çš„é€‰æ‹©æ˜¯èµ°å¼€,æ¸…é†’å¤´è„‘ã€‚å‡ºå»èµ°ä¸¤æ­¥çœ‹çœ‹é£æ™¯å‘¼å¸æ–°é²œç©ºæ°”,ç­‰ä½ å¹³é™ä¸‹æ¥(ä¸å†æ€¥èº)å†å›åˆ°åŠå…¬æ¡Œä¸Š,æ•ˆç‡ä¼šäº‹åŠåŠŸå€ã€‚</p><p>2ã€åœ¨å®¶å°‘ç¼–ç¨‹</p><p>å·¥ä½œä¸€å¤©äº†,å›åˆ°å®¶,ç»§ç»­æ‰“å¼€ç”µè„‘å¼€å¯ eclipse è¿›è¡Œç¼–ç¨‹,æˆ‘æƒ³è¿™æ˜¯å¾ˆå¤šç¨‹åºå‘˜éƒ½å–œæ¬¢å¹²çš„äº‹æƒ…ã€‚ä½†æ˜¯æˆ‘çš„å»ºè®®æ˜¯,æ—¢ç„¶å›å®¶äº†,é‚£å°±æŠŠä»£ç æ”¾ä¸€è¾¹,åšåšé¥­,åšåšå®¶åŠ¡ ,ç„¶åçœ‹ä¼šç”µè§†,æœ€å¥½é˜…è¯»ç‚¹ä¹¦ç±ã€‚è‡³äºä»£ç ,å¯ä»¥ç­‰åˆ°æ˜å¤©ã€‚</p><p>3ã€å°‘å«å¤–å–,ä¸­åˆå‡ºå»åƒ</p><p>å¾ˆå¤šç¨‹åºå‘˜ä¸­åˆä¹ æƒ¯å«å¤–å–,åˆ«äººéƒ½å»åƒé¥­äº†,ä»–è¿˜åœ¨é‚£é‡Œç»§ç»­ç¼–ç ,ç›´è‡³å¤–å–é€æ¥,ç„¶ååœ¨ç”µè„‘é¢å‰å®Œæˆè¿™é¡¿ä»“ä¿ƒçš„åˆé¤,è¿™æ˜¯ä¸€ä»¶å¤šä¹ˆæ‚²å‚¬çš„äº‹æƒ…ã€‚æˆ‘çš„å»ºè®®æ˜¯,ä¸­åˆå‡ºå»åƒ,ä½†è¦åƒçš„å¥åº·,KFC å’Œéº¦å½“åŠ³å°±ä¸è¦äº†,ä½ çš„å¥åº·æœ¬æ¥å°±æ¯”äººå·®äº†,å†åƒè¿™ä¸ªå°±è¯´ä¸è¿‡å»äº†ã€‚</p><p>4ã€éæŠ€æœ¯çš„å…´è¶£çˆ±å¥½</p><p>ä½ ä¸èƒ½åªå¯¹ç”µè„‘ã€å¯¹ä»£ç æ„Ÿå…´è¶£,æˆ‘ä»¬æ˜¯ä¸€ä¸ªç¤¾ä¼šäºº,åº”è¯¥å…·å¤‡ç¤¾ä¼šäººæ‰€åº”æœ‰çš„ç¤¾äº¤æ´»åŠ¨ã€‚ä½ çš„å…´è¶£è¦å¹¿æ³›,çœ‹ä¹¦ã€çœ‹ç”µå½±ã€å–èŒ¶ã€å”±æ­Œç­‰,å¦‚æœèƒ½æœ‰å‡ é¡¹è‡ªå·±å–œæ¬¢çš„ä½“è‚²é”»ç‚¼é¡¹ç›®,é‚£å°±æ›´å®Œç¾äº†ã€‚ç¨‹åºå‘˜è¦æœ‰å¥åº·çš„ç”Ÿæ´»æ–¹å¼,ä»£ç åªæ˜¯ä½ ç”Ÿæ´»ä¸­å¾ˆå°çš„ä¸€é¢è€Œå·²ã€‚</p><p>5ã€ä¼‘å‡</p><p>å½“å·¥ä½œä¸Šçš„ä¸€åˆ‡éƒ½å˜å¾—å¾ˆä¸é¡ºçš„æ—¶å€™,ä¸è¦æ‹…å¿ƒä½¿ç”¨ä½ çš„å‡æœŸâ€”â€”å®ƒå°†ä½¿ä½ å½»åº•è¿œç¦»æ— æ³•æ‰¿å—çš„å·¥ä½œã€‚ä½ ä¸å¿…å»å›½å¤–åº¦å‡ä¹Ÿä¸å¿…æ—…è¡Œ,å¦‚æœä½ æ„¿æ„å¾…åœ¨å®¶é‡Œä¹Ÿæ²¡å…³ç³»ã€‚ä¼‘å‡çš„å…³é”®æ˜¯ä¸å·¥ä½œã€‚</p><p>6ã€å­¦ä¼šå€ŸåŠ›</p><p>åœ¨ä¸“ä¸šçš„å¹³å°ä¸Šæ‰¾ä½ éœ€è¦çš„ SDK æˆ– API,è€Œä¸æ˜¯ç›´æ¥ç™¾åº¦,ä¾‹å¦‚ devstore,æµ‹è¯„å’Œå¯¹æ¯”åšçš„éƒ½æ˜¯å¾ˆåˆ°ä½çš„,è¿™äº›ä¸œè¥¿éƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®é‡Œ,è¿™æ ·ä¼šèŠ‚çœä½ å¾ˆå¤šæ—¶é—´ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç¨‹åºå‘˜,ä¸€ä¸ªåœ¨å¤–äººçœ‹æ¥æ˜¯é«˜è–ªã€å‰é€”æ— é‡çš„å·¥ä½œ,ä½†åˆæœ‰å¤šå°‘äººæ¸…æ¥š,æœ‰å¤šå°‘ç¨‹åºå‘˜æ˜¯ç”¨è‡ªå·±çš„èº«å¿ƒå¥åº·æ¢æ¥çš„è¿™ä¸€çœ‹ä¼¼åä¸½çš„è¤’èµã€‚å¥½å§,ç”Ÿæ´»æ€»æ˜¯ç»§ç»­å‘å‰çš„,æœ‰é—®é¢˜å°±è¦ç§¯æåœ°å»è§£å†³,æ›´ä½•å†µæ˜¯å…³ä¹è‡ªèº«çš„èº«å¿ƒå¥åº·é—®é¢˜,å¦‚æœä¸€å‘³çš„æŠ±æ€¨åªä¼šå°†è‡ªå·±æ¨å‘å¦ä¸€ä¸ªæ·±æ¸Šã€‚&lt;br&gt;&lt;figure clas
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>è§£å†³iOS12åŠä¸€ä¸‹å¼¹æ¡†æ»šåŠ¨ä¼šå¸¦åŠ¨bodyå†…å®¹æ»‘åŠ¨</title>
    <link href="https://github.com/chengheai/2019/11/20/%E8%A7%A3%E5%86%B3iOS12%E5%8F%8A%E4%B8%80%E4%B8%8B%E5%BC%B9%E6%A1%86%E6%BB%9A%E5%8A%A8%E4%BC%9A%E5%B8%A6%E5%8A%A8body%E5%86%85%E5%AE%B9%E6%BB%91%E5%8A%A8/"/>
    <id>https://github.com/chengheai/2019/11/20/è§£å†³iOS12åŠä¸€ä¸‹å¼¹æ¡†æ»šåŠ¨ä¼šå¸¦åŠ¨bodyå†…å®¹æ»‘åŠ¨/</id>
    <published>2019-11-20T13:32:55.000Z</published>
    <updated>2021-10-09T08:48:32.096Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨ç§»åŠ¨é¡¹ç›®å¼€å‘ä¸­å¾€å¾€ä¼šå†™ä¸€äº› H5 é¡µé¢ï¼Œä¸€ä¸ªé¡¹ç›®å¯èƒ½åªæœ‰ä¸€ä¸¤ä¸ªé¡µé¢ï¼Œå¼•å…¥å…¶ä»– UI ç»„ä»¶é¡¹ç›®æ˜¾å¾—å¤ªè‡ƒè‚¿ï¼Œä¹Ÿæ²¡æœ‰å•¥å¿…è¦ï¼Œæ¯•ç«Ÿé‚£äº›ç»„ä»¶éƒ½æ˜¯è¢«äººå†™çš„ï¼Œæœ‰çš„æ—¶å€™ä¸èƒ½ä¸€å‘³çš„å»ä½¿ç”¨ä»–äººå†™å¥½çš„ä»£ç ï¼Œæœ‰æ—¶é—´ä¹Ÿéœ€è¦è‡ªå·±è°¢è°¢ï¼Œé”»ç‚¼è‡ªå·±çš„åŒæ—¶ä¹Ÿåœ¨å·©å›ºä¸€äº›åŸºç¡€çŸ¥è¯†ï½ï½</p><h2 id="æ’ä»¶ã€-NPM-ã€‘"><a href="#æ’ä»¶ã€-NPM-ã€‘" class="headerlink" title="æ’ä»¶ã€ NPM ã€‘"></a>æ’ä»¶ã€ NPM ã€‘</h2><p><a href="https://github.com/phegman/v-scroll-lock">v-scroll-lock</a><br>è¿™ä¸ªæ’ä»¶è™½ç„¶å¾ˆå¥½ï¼Œä½†æ˜¯åœ¨åä¸ºæ‰‹æœº ğŸ“± ä¸Šå´ä¸èµ·ä½œç”¨ï¼Œè€Œä¸”è¿˜æœ‰ä¸å¥½çš„æ•ˆæœã€äº²æµ‹ ğŸ„ğŸ·ğŸ¸ğŸ¦‹ã€‘<br><a href="https://v-scroll-lock.peterhegman.com/" target="_blank" rel="noopener">ã€åœ¨çº¿æµ‹è¯•ã€‘</a></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä¸€ä¸ªé¡µé¢å¼¹å‡ºä¸€ä¸ªæ¡†ï¼Œæ¡†é‡Œçš„å†…å®¹å¯ä»¥æ»šåŠ¨ï¼Œä½†æ˜¯æ»šåŠ¨å¼¹æ¡†æ—¶ï¼Œbody å†…å®¹ä¹Ÿåœ¨åŠ¨ ã€å‰ææ˜¯ä½ çš„ body è¶…è¿‡å±å¹•çš„é«˜åº¦ã€‘ï¼Œç„¶è€Œåœ¨ iOS13 ï¼Œå®‰å“æ‰‹æœºæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ iOS12 åŠä»¥ä¸‹å°±ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡ä»£ç  <code>document.body.style.overflow = &quot;hidden&quot;;</code>ï¼Œå¹¶ä¸ç®¡ç”¨ï¼ŒåŸå› æ˜¯ï¼šåœ¨è‹¹æœ ğŸ§¬ æ‰‹æœºä¸Šå°±ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œåœ¨å®ƒçœ‹æ¥ï¼Œæˆ‘çš„é¡µé¢æœ‰å†…å®¹å°±è¯¥ç»™å®¢æˆ·å…¨éƒ¨å±•ç¤ºå‡ºæ¥ï¼Œä¸ºä»€ä¹ˆè¦ hidden å‘¢ ğŸŒï¼Œè¿™ä¸ªæ–¹æ³•è¡Œä¸é€šæ—¶ï¼Œæˆ‘ä»¬å‡†å¤‡ç»™å®ƒæ·»åŠ å¦å¤–ä¸€ä¸ªå±æ€§<code>document.body.style.position = &quot;fixed&quot;;</code>,å‘ç°å¯ä»¥æ­£å¸¸ï¼Œä½†æ˜¯æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œå› ä¸º fixed çš„ top ä¸º 0</p><h2 id="é—®é¢˜æ€»ç»“"><a href="#é—®é¢˜æ€»ç»“" class="headerlink" title="é—®é¢˜æ€»ç»“"></a>é—®é¢˜æ€»ç»“</h2><p>ï½å¼¹çª—æ—¶ç»™ body è®¾ç½® overflow:hiddenï¼›ï¼ˆios ä¸ç†ä½ ï¼‰<br>ï½å¼¹çª—æ—¶ç»™ body è®¾ç½® position:fixedï¼›(æ»šåŠ¨ä½ç½®ä¼šä¸¢å¤±)</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  dialogStatus: <span class="function"><span class="keyword">function</span>(<span class="params">news, olds</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (news) &#123;</span><br><span class="line">        <span class="built_in">document</span>.body.style.overflow = <span class="string">"hidden"</span>;</span><br><span class="line">        <span class="keyword">let</span> scrollTop =</span><br><span class="line">          <span class="built_in">document</span>.body.scrollTop || <span class="built_in">document</span>.documentElement.scrollTop;</span><br><span class="line">        <span class="built_in">document</span>.body.style.cssText +=</span><br><span class="line">          <span class="string">"position:fixed;width:100%;top:-"</span> + scrollTop + <span class="string">"px;"</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">document</span>.body.style.overflow = <span class="string">""</span>;</span><br><span class="line">        <span class="built_in">document</span>.body.style.position = <span class="string">"static"</span>;</span><br><span class="line">        <span class="keyword">let</span> top = <span class="built_in">document</span>.body.style.top;</span><br><span class="line">        <span class="built_in">document</span>.body.scrollTop = <span class="built_in">document</span>.documentElement.scrollTop = -<span class="built_in">parseInt</span>(</span><br><span class="line">          top</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨ç§»åŠ¨é¡¹ç›®å¼€å‘ä¸­å¾€å¾€ä¼šå†™ä¸€äº› H5 é¡µé¢ï¼Œä¸€ä¸ªé¡¹ç›®å¯èƒ½åªæœ‰ä¸€ä¸¤ä¸ªé¡µé¢ï¼Œå¼•å…¥å…¶ä»– UI ç»„ä»¶é¡¹ç›®æ˜¾å¾—å¤ªè‡ƒè‚¿ï¼Œä¹Ÿæ²¡æœ‰å•¥å¿…è¦ï¼Œæ¯•ç«Ÿé‚£äº›ç»„ä»¶éƒ½æ˜¯è¢«äºº
      
    
    </summary>
    
    
      <category term="å°æŠ€å·§" scheme="https://github.com/chengheai/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸­å®ç°å›¾ç‰‡ä¸Šä¼ æ·»åŠ è‡ªå®šä¹‰æ°´å°å¹¶ä¸‹è½½</title>
    <link href="https://github.com/chengheai/2019/11/20/vue%E4%B8%AD%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B0%B4%E5%8D%B0%E5%B9%B6%E4%B8%8B%E8%BD%BD/"/>
    <id>https://github.com/chengheai/2019/11/20/vueä¸­å®ç°å›¾ç‰‡ä¸Šä¼ æ·»åŠ è‡ªå®šä¹‰æ°´å°å¹¶ä¸‹è½½/</id>
    <published>2019-11-20T13:27:28.000Z</published>
    <updated>2021-10-09T08:48:32.080Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘çœ‹äº†ä¸€ç¯‡ç”¨ Angular4+ å†™çš„æ·»åŠ æ°´å°åŠŸèƒ½ï¼Œè§‰å¾—æŒºå¥½ç©ï¼Œå°±è‡ªå·±è¯•ç€ç”¨ vue å†™ä¸€ä¸ªç›¸åŒåŠŸèƒ½</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/2019-11-20%2022-47-46.2019-11-20%2022_57_10.gif?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="LIVE"><a href="#LIVE" class="headerlink" title="LIVE"></a>LIVE</h2><p><a href="https://chengheai.github.io/daily-vue-demo/#/watermark" target="_blank" rel="noopener">â˜€ï¸ğŸ‡±ğŸ‡·ğŸ® åœ¨çº¿ä¾‹å­ ğŸŒ°ğŸŒªâ˜ƒï¸â„ï¸</a></p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p><a href="https://github.com/chengheai/daily-vue-demo/blob/master/src/components/Watermark.vue">âœˆï¸âœˆï¸âœˆï¸âœˆï¸âœˆï¸âœˆï¸ ç›´è¾¾å®Œæ•´ä»£ç  ğŸš…âœˆï¸ğŸ›«ğŸ›¬ğŸ›¸ğŸš€</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"optea"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"file-upload"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>é€‰æ‹©å›¾ç‰‡<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">style</span>=<span class="string">"color: #c00;"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"uploads"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"el-icon-upload2"</span> <span class="attr">style</span>=<span class="string">"margin-right: 5px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          é€‰æ‹©éœ€è¦æ·»åŠ æ°´å°çš„å›¾ç‰‡<span class="tag">&lt;/<span class="name">label</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">"file"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">"uploads"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">hidden</span></span></span><br><span class="line"><span class="tag">        <span class="attr">accept</span>=<span class="string">"image/png, image/jpeg, image/gif, image/jpg"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">change</span>=<span class="string">"uploadImg($event, 1)"</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ°´å°æ–‡å­—<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.text"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥æ°´å°å†…å®¹"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­—ä½“é¢œè‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-color-picker</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.color"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-color-picker</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ—‹è½¬è§’åº¦<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-slider</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.rotate"</span> <span class="attr">:min</span>=<span class="string">"0"</span> <span class="attr">:max</span>=<span class="string">"360"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-slider</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>é€æ˜åº¦<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-slider</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.alpha"</span> <span class="attr">:min</span>=<span class="string">"0"</span> <span class="attr">:max</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-slider</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ–‡æœ¬é—´è·<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-slider</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.width"</span> <span class="attr">:min</span>=<span class="string">"0"</span> <span class="attr">:max</span>=<span class="string">"100"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-slider</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­—ä½“å¤§å°<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-slider</span> <span class="attr">v-model</span>=<span class="string">"watermarkOptions.fontSize"</span> <span class="attr">:min</span>=<span class="string">"0"</span> <span class="attr">:step</span>=<span class="string">"0.5"</span> <span class="attr">:max</span>=<span class="string">"50"</span>&gt;</span><span class="tag">&lt;/<span class="name">el-slider</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">"handleDown"</span> <span class="attr">class</span>=<span class="string">"download-btn"</span> <span class="attr">type</span>=<span class="string">"primary"</span> <span class="attr">plain</span> <span class="attr">icon</span>=<span class="string">"el-icon-download"</span></span></span><br><span class="line"><span class="tag">      &gt;</span>ä¸‹è½½æ°´å°å›¾ç‰‡<span class="tag">&lt;/<span class="name">el-button</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"preview"</span> <span class="attr">ref</span>=<span class="string">"previewImg"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"preImg || defaultimg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"watermark"</span> <span class="attr">:style</span>=<span class="string">"&#123; background: paint &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      defaultimg,</span><br><span class="line">      preImg: <span class="string">''</span>,</span><br><span class="line">      watermarkOptions: &#123;</span><br><span class="line">        text: <span class="string">'ä»…ä¾› xxx éªŒè¯ä½¿ç”¨'</span>,</span><br><span class="line">        fontSize: <span class="number">10</span>,</span><br><span class="line">        width: <span class="number">5</span>,</span><br><span class="line">        color: <span class="string">'#000000'</span>,</span><br><span class="line">        alpha: <span class="number">35</span>,</span><br><span class="line">        rotate: <span class="number">35</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    uploadImg(e, num) &#123;</span><br><span class="line">      <span class="comment">//ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">      <span class="comment">// this.option.img</span></span><br><span class="line">      <span class="keyword">var</span> file = e.target.files[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">if</span> (!<span class="regexp">/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/</span>.test(e.target.value)) &#123;</span><br><span class="line">        alert(<span class="string">'å›¾ç‰‡ç±»å‹å¿…é¡»æ˜¯.gif,jpeg,jpg,png,bmpä¸­çš„ä¸€ç§'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">      reader.onload = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> data;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> e.target.result === <span class="string">'object'</span>) &#123;</span><br><span class="line">          <span class="comment">// æŠŠArray Bufferè½¬åŒ–ä¸ºblob å¦‚æœæ˜¯base64ä¸éœ€è¦</span></span><br><span class="line">          data = <span class="built_in">window</span>.URL.createObjectURL(<span class="keyword">new</span> Blob([e.target.result]));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          data = e.target.result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (num === <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>.preImg = data;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">// è½¬åŒ–ä¸ºbase64</span></span><br><span class="line">      reader.readAsDataURL(file);</span><br><span class="line">      <span class="comment">// è½¬åŒ–ä¸ºblob</span></span><br><span class="line">      <span class="comment">// reader.readAsArrayBuffer(file)</span></span><br><span class="line">    &#125;,</span><br><span class="line">    handleDown() &#123;</span><br><span class="line">      <span class="keyword">let</span> node = <span class="keyword">this</span>.$refs.previewImg;</span><br><span class="line">      <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">      DomToImage.toPng(node)</span><br><span class="line">        .then(<span class="function"><span class="keyword">function</span>(<span class="params">dataUrl</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> oLink = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">          oLink.download = <span class="string">'æ°´å°å›¾ç‰‡.png'</span>;</span><br><span class="line">          oLink.href = dataUrl;</span><br><span class="line">          oLink.click();</span><br><span class="line">          that.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            that.$message.success(<span class="string">'æ°´å°å›¾ç‰‡ä¸‹è½½æˆåŠŸ'</span>);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.error(<span class="string">'oops, something went wrong!'</span>, error);</span><br><span class="line">          that.$message.error(<span class="string">'ä¸‹è½½å¤±è´¥'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    paint() &#123;</span><br><span class="line">      <span class="comment">// æ–‡å­—é•¿åº¦</span></span><br><span class="line">      <span class="keyword">const</span> wordWidth =</span><br><span class="line">        <span class="keyword">this</span>.watermarkOptions.fontSize * <span class="keyword">this</span>.watermarkOptions.text.split(<span class="string">''</span>).length;</span><br><span class="line">      <span class="keyword">const</span> width = wordWidth + <span class="keyword">this</span>.watermarkOptions.width;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> svgText = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;svg xmlns="http://www.w3.org/2000/svg" width="<span class="subst">$&#123;width&#125;</span>px" height="<span class="subst">$&#123;width&#125;</span>px"&gt;</span></span><br><span class="line"><span class="string">    &lt;text x="50%" y="50%"</span></span><br><span class="line"><span class="string">        alignment-baseline="middle"</span></span><br><span class="line"><span class="string">        text-anchor="middle"</span></span><br><span class="line"><span class="string">        stroke="<span class="subst">$&#123;<span class="keyword">this</span>.watermarkOptions.color&#125;</span>"</span></span><br><span class="line"><span class="string">        opacity="<span class="subst">$&#123;<span class="keyword">this</span>.watermarkOptions.alpha <span class="regexp">/ 100&#125;"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        transform="translate($&#123;width /</span> <span class="number">2</span>&#125;</span>, <span class="subst">$&#123;width <span class="regexp">/ 2&#125;) rotate($&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        this.watermarkOptions.rotate</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">      &#125;) translate(-$&#123;width /</span> <span class="number">2</span>&#125;</span>, -<span class="subst">$&#123;width <span class="regexp">/ 2&#125;)"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        font-weight="100"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        font-size="$&#123;this.watermarkOptions.fontSize&#125;"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        font-family="microsoft yahe"</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        &gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">        $&#123;this.watermarkOptions.text&#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">    &lt;/</span>text&gt;</span></span></span><br><span class="line"><span class="string"><span class="subst">   &lt;<span class="regexp">/svg&gt;`;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp"></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="regexp">      return `url(data:image/</span>svg+xml;base64,$&#123;btoa(<span class="built_in">unescape</span>(<span class="built_in">encodeURIComponent</span>(svgText)))&#125;</span>)`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘çœ‹äº†ä¸€ç¯‡ç”¨ Angular4+ å†™çš„æ·»åŠ æ°´å°åŠŸèƒ½ï¼Œè§‰å¾—æŒºå¥½ç©ï¼Œå°±è‡ªå·±è¯•ç€ç”¨ vue å†™ä¸€ä¸ªç›¸åŒåŠŸèƒ½&lt;/p&gt;
&lt;h2 id=&quot;æ•ˆæœ&quot;&gt;&lt;a
      
    
    </summary>
    
    
      <category term="æ°´å°" scheme="https://github.com/chengheai/tags/%E6%B0%B4%E5%8D%B0/"/>
    
  </entry>
  
  <entry>
    <title>å¤šä¸ªel-selectå…±ç”¨ä¸€ä¸ªoptionsä¸”ä¸€ä¸ªoptionåªèƒ½ç”¨ä¸€æ¬¡</title>
    <link href="https://github.com/chengheai/2019/10/21/%E5%A4%9A%E4%B8%AAel-select%E5%85%B1%E7%94%A8%E4%B8%80%E4%B8%AAoptions%E4%B8%94%E4%B8%80%E4%B8%AAoption%E5%8F%AA%E8%83%BD%E7%94%A8%E4%B8%80%E6%AC%A1/"/>
    <id>https://github.com/chengheai/2019/10/21/å¤šä¸ªel-selectå…±ç”¨ä¸€ä¸ªoptionsä¸”ä¸€ä¸ªoptionåªèƒ½ç”¨ä¸€æ¬¡/</id>
    <published>2019-10-21T14:01:16.000Z</published>
    <updated>2021-10-09T08:48:32.087Z</updated>
    
    <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ä¸€ä¸ªè¡¨å•å¤šä¸ªä¸‹æ‹‰æ¡†ï¼Œå‡å¦‚ options é‡Œæœ‰ä¸­å›½ï¼Œç¾å›½ï¼Œç¬¬ä¸€ä¸ª select é€‰æ‹©é‡Œä¸­å›½é‚£ä¹ˆç¬¬äºŒä¸ª select çš„ options ä¸­å›½å°±ç½®ä¸ºç°è‰²ï¼Œåä¹‹æˆ‘ç¬¬äºŒä¸ªé€‰é‡Œä¸­å›½ï¼Œç¬¬ä¸€ä¸ª options ä¸­ä¸­å›½å°±ç½®ä¸ºç°è‰²</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/2019-10-21%2022-06-05.2019-10-21%2022_07_14.gif?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h2><font size="8"><a href="https://chengheai.github.io/daily-vue-demo/#/select" target="_blank" rel="noopener">åœ¨çº¿ demo â›©â›½ï¸ğŸšâœˆï¸ğŸ“¡ğŸ’ˆğŸ§§ğŸ®</a></font><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">"ruleForm"</span> <span class="attr">ref</span>=<span class="string">"ruleForm"</span> <span class="attr">label-width</span>=<span class="string">"100px"</span> <span class="attr">class</span>=<span class="string">"demo-ruleForm"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in ruleForm.list"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-select</span></span></span><br><span class="line"><span class="tag">          <span class="attr">v-model</span>=<span class="string">"item.type"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">clearable</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">change</span>=<span class="string">"selectChange(item.type,index)"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">"è¯·é€‰æ‹©"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-for</span>=<span class="string">"(item,optionIndex)  in options"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:key</span>=<span class="string">"optionIndex"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:label</span>=<span class="string">"item.label"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:disabled</span>=<span class="string">"getDisable(item.value)"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">:value</span>=<span class="string">"item.value"</span></span></span><br><span class="line"><span class="tag">          &gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span></span></span><br><span class="line"><span class="tag">          <span class="attr">v-if</span>=<span class="string">"index === 0 &amp;&amp; ruleForm.list[0].type !== '' &amp;&amp; ruleForm.list.length&lt;2"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">"el-icon-circle-plus-outline ico"</span></span></span><br><span class="line"><span class="tag">          @<span class="attr">click</span>=<span class="string">"add"</span></span></span><br><span class="line"><span class="tag">        &gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">v-if</span>=<span class="string">"index !==0"</span> <span class="attr">class</span>=<span class="string">"el-icon-remove-outline ico"</span> @<span class="attr">click</span>=<span class="string">"del(index)"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">/* eslint-disable */</span></span><br><span class="line"><span class="comment">// æ·»åŠ æ•°ç»„è‡ªå®šä¹‰äº‹ä»¶ ç”¨æ¥åˆ é™¤æ•°ç»„ä¸­çš„æŸä¸€é¡¹</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.indexOf = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>[i] == val) &#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Array</span>.prototype.remove = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index = <span class="keyword">this</span>.indexOf(val);</span><br><span class="line">  <span class="keyword">if</span> (index &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.splice(index, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        list: [</span><br><span class="line">          &#123;</span><br><span class="line">            type: <span class="string">''</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      options: [</span><br><span class="line">        &#123;</span><br><span class="line">          label: <span class="string">'ä¸­å›½'</span>,</span><br><span class="line">          value: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          label: <span class="string">'ç¾å›½'</span>,</span><br><span class="line">          value: <span class="number">2</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      selectedOptions: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    selectChange(value, index) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(value, index);</span><br><span class="line">      <span class="keyword">this</span>.selectedOptions[index] = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    getDisable(value) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.selectedOptions.indexOf(value) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    add() &#123;</span><br><span class="line">      <span class="keyword">this</span>.ruleForm.list.push(&#123;</span><br><span class="line">        type: <span class="string">''</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    del(index) &#123;</span><br><span class="line">      <span class="comment">// åˆ é™¤æ—¶æ¢å¤å¯é€‰</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.ruleForm.list[index] || <span class="keyword">this</span>.ruleForm.list[index] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.selectedOptions.remove(<span class="keyword">this</span>.ruleForm.list[index].type);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.selectedOptions);</span><br><span class="line">      <span class="keyword">this</span>.ruleForm.list.splice(index, <span class="number">1</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style lang="css" scoped&gt;</span></span><br><span class="line"><span class="regexp">.ico &#123;</span></span><br><span class="line"><span class="regexp">  font-size: 40px;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;éœ€æ±‚&quot;&gt;&lt;/a&gt;éœ€æ±‚&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªè¡¨å•å¤šä¸ªä¸‹æ‹‰æ¡†ï¼Œå‡å¦‚ options é‡Œæœ‰ä¸­å›½ï¼Œç¾å›½ï¼Œç¬¬ä¸€ä¸ª select é€‰æ‹©é‡Œä¸­å›½é‚£ä¹ˆç¬¬äºŒä¸ª select çš„ options ä¸­å›½
      
    
    </summary>
    
    
      <category term="element-ui" scheme="https://github.com/chengheai/tags/element-ui/"/>
    
  </entry>
  
  <entry>
    <title>gitåˆ†æ”¯ä¸Šåˆ é™¤æŸæ¬¡æäº¤ä¸è·å–å…¶ä»–åˆ†æ”¯ä¸ŠæŸä¸ªæäº¤</title>
    <link href="https://github.com/chengheai/2019/10/15/git%E5%88%86%E6%94%AF%E4%B8%8A%E5%88%A0%E9%99%A4%E6%9F%90%E6%AC%A1%E6%8F%90%E4%BA%A4/"/>
    <id>https://github.com/chengheai/2019/10/15/gitåˆ†æ”¯ä¸Šåˆ é™¤æŸæ¬¡æäº¤/</id>
    <published>2019-10-15T14:10:02.000Z</published>
    <updated>2021-10-09T08:48:32.067Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ï½åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šç¢°åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨devåˆ†æ”¯ä¸Šå†™å¥½çš„ä»£ç ï¼Œç»è¿‡ä¸¥æ ¼çš„æµ‹è¯•ç¡®è®¤æ— è¯¯æ²¡æœ‰é—®é¢˜ï¼Œæ‰“åŒ…å‘ä¸åˆ°æ­£å¼ç¯å¢ƒä¸Šå»äº†ï¼Œåæ¥äº§å“ç»ç†è¯´è¿™ä¸ªåŠŸèƒ½ä¸æ˜¯æœ¬æœŸä¸Šçš„ï¼Œä½†æ˜¯æ­£å¼æœå·²ç»æœ‰äº†ï¼Œé‚£æ€ä¹ˆå¼„å‘¢ï¼Ÿ</p><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>ä¾‹å¦‚ï¼Œç°åœ¨å½“å‰åˆ†æ”¯ä¸Šä»£ç æœ‰ä¸‰æ¬¡æäº¤ï¼Œæˆ‘æƒ³æŠŠå…¶ä¸­é—´ä¸€æ¬¡æäº¤å»æ‰ï¼Œæ€ä¹ˆåšï¼Ÿ<br>æ­¥éª¤ï¼š<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log <span class="comment">// æŸ¥çœ‹logä¿¡æ¯è®°ä¸‹commitId</span></span><br></pre></td></tr></table></figure></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20191015-221740@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i commitId <span class="comment">// [ä¸Šä¸€æ¬¡æäº¤çš„commitId]</span></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20191015-222936@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim  i[æ’å…¥] <span class="comment">// å°†éœ€è¦ä¿®æ”¹çš„commitçš„ pickæ”¹ä¸ºdrop</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esc wq <span class="comment">// é€€å‡ºæ’å…¥æ¨¡å¼ï¼Œä¿å­˜é€€å‡º</span></span><br></pre></td></tr></table></figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status <span class="comment">// çŠ¶æ€æŸ¥çœ‹</span></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://img-blog.csdnimg.cn/20191015225855423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NoaTExMzA=,size_16,color_FFFFFF,t_70" alt title>                </div>                <div class="image-caption"></div>            </figure> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin branch -f <span class="comment">// æäº¤å¹¶è¦†ç›–è¿œç¨‹</span></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20191015-223346@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="é™„åŠ ğŸ“"><a href="#é™„åŠ ğŸ“" class="headerlink" title="é™„åŠ ğŸ“"></a>é™„åŠ ğŸ“</h2><p>å½“å‰åˆ†æ”¯æ‹‰å–å…¶ä»–åˆ†æ”¯æŸæ¬¡æäº¤ä»£ç  [git cherry-pick commitID]</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick commitID</span><br></pre></td></tr></table></figure><p>å±äºå¤åˆ¶çš„æ“ä½œï¼Œå¯¹æºåˆ†æ”¯ä¸å½±å“ï½</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;ï½åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šç¢°åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨devåˆ†æ”¯ä¸Šå†™å¥½çš„ä»£ç ï¼Œç»è¿‡ä¸¥æ ¼çš„æµ‹è¯•ç¡®è®¤æ— è¯¯æ²¡æœ‰é—®é¢˜ï¼Œæ‰“åŒ…å‘ä¸åˆ°æ­£å¼ç¯å¢ƒä¸Šå»äº†ï¼Œåæ¥äº§å“ç»ç†è¯´
      
    
    </summary>
    
    
      <category term="git" scheme="https://github.com/chengheai/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Linuxæ‰§è¡Œhistoryå‘½ä»¤æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶é—´</title>
    <link href="https://github.com/chengheai/2019/09/17/Linux%E6%89%A7%E8%A1%8Chistory%E5%91%BD%E4%BB%A4%E6%98%BE%E7%A4%BA%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4/"/>
    <id>https://github.com/chengheai/2019/09/17/Linuxæ‰§è¡Œhistoryå‘½ä»¤æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶é—´/</id>
    <published>2019-09-17T13:42:43.000Z</published>
    <updated>2021-10-09T08:48:32.057Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p>åœ¨çº¿å¿«é€Ÿç”ŸæˆJSONå¯¹è±¡api<br>ã€MYJSONã€‘(<a href="http://myjson.com/1g17dp" target="_blank" rel="noopener">http://myjson.com/1g17dp</a>)</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå¾€å¾€ç¢°åˆ°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæˆ‘æ˜æ˜æ²¡æœ‰æ•²è¿™ä¸ªæŒ‡ä»¤å•Šï¼Œæ€ä¹ˆä»£ç è¢«è¦†ç›–äº†ï¼Ÿæ€ä¹ˆå›äº‹ï¼ŸğŸ‘º<br>ç”¨historyå‘½ä»¤æŸ¥çœ‹ ï¼š<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20190917-212406@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><br>è¿™æ—¶é—´ä¹Ÿæ²¡æœ‰ä¹Ÿä¸çŸ¥é“æ˜¯è°æ•²çš„åå­—ï¼Œè¿™å¯å’‹åŠï¼Ÿ</p><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20190917-215133@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><p>åœ¨ä½ çš„å‘½ä»¤è¡Œä¸­è´±ã€é”®ã€‘å…¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'export HISTTIMEFORMAT="%Y-%m-%d %H:%M:%S  `whoami` "'</span>&gt;&gt;/etc/profile</span><br></pre></td></tr></table></figure></p><p>ç„¶å<br>å†è¾“å…¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure></p><p>OKï¼Œå®Œäº†ï¼ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é™„å½•&quot;&gt;&lt;a href=&quot;#é™„å½•&quot; class=&quot;headerlink&quot; title=&quot;é™„å½•&quot;&gt;&lt;/a&gt;é™„å½•&lt;/h2&gt;&lt;p&gt;åœ¨çº¿å¿«é€Ÿç”ŸæˆJSONå¯¹è±¡api&lt;br&gt;ã€MYJSONã€‘(&lt;a href=&quot;http://myjson.com/1g17dp&quot; target=
      
    
    </summary>
    
    
      <category term="linux" scheme="https://github.com/chengheai/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨LinuxæœåŠ¡å™¨ä¸ŠNginxéƒ¨ç½²vueé™æ€é¡¹ç›®</title>
    <link href="https://github.com/chengheai/2019/09/11/%E5%9C%A8Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E9%83%A8%E7%BD%B2vue%E9%9D%99%E6%80%81%E9%A1%B9%E7%9B%AE/"/>
    <id>https://github.com/chengheai/2019/09/11/åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²vueé™æ€é¡¹ç›®/</id>
    <published>2019-09-11T13:56:37.000Z</published>
    <updated>2021-10-09T08:48:32.087Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘çœ‹äº†çœ‹nginxï¼Œè§‰å¾—æŒºå¥½ç©ï¼Œåˆšå¥½è‡ªå·±æœ‰ä¸€ä¸ªVPNæµ‹è¯•æœåŠ¡å™¨ï¼Œå°±è‡ªå·±æ•²äº†ä¸€éï¼Œéƒ¨ç½²ä¸€ä¸ªvue-cliåˆå§‹åŒ–é¡¹ç›®<br>ï½å¦å¤–ç»™å¤§å®¶æ¨èä¸€ä¸ªå…è´¹è¯•ç©çš„æœåŠ¡å™¨<a href="https://cloud.tencent.com/developer/labs/lab/10078" target="_blank" rel="noopener">è…¾è®¯äº‘â˜ï¸å®éªŒå®¤</a>,æ¯å¤©æœ‰å¤§çº¦6ä¸ªå°æ—¶çš„æ—¶é—´å¯ä»¥ä½¿ç”¨ï¼Œä¸¤ä¸ªubuntuï¼Œä¸€ä¸ªubuntuæ˜¯3å°æ—¶<br>3 + 3 = 6</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="nginxå®‰è£…"><a href="#nginxå®‰è£…" class="headerlink" title="nginxå®‰è£…"></a>nginxå®‰è£…</h3><p>ï½å‘½ä»¤è¡Œè¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://nginx.org/download/nginx-1.12.2.tar.gz</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># å®‰è£…ä¾èµ–</span><br><span class="line">yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</span><br><span class="line"># è§£å‹ç¼©</span><br><span class="line">tar -zxvf linux-nginx-1.12.2.tar.gz</span><br><span class="line">cd nginx-1.12.2/</span><br><span class="line"># æ‰§è¡Œé…ç½®</span><br><span class="line">./configure</span><br><span class="line"># ç¼–è¯‘å®‰è£…(é»˜è®¤å®‰è£…åœ¨/usr/local/nginx)</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>ä¸€é¡¿é—ªçƒä¹‹åä½ å°†å‘ç°ä½ çš„/usr/localä¸‹å¤šäº†ä¸ªnginxæ–‡ä»¶å¤¹<br>éªŒè¯ä¿¡æ¯ï¼š<br>nginxä¸»é…ç½®æ–‡ä»¶ï¼š/usr/local/nginx/conf/nginx.conf<br>nginxæ—¥å¿—æ–‡ä»¶ï¼š/usr/local/nginx/logs/access.log<br>å¯åŠ¨Nginxï¼š/usr/local/nginx/sbin/nginx</p><p>ç„¶åç›´æ¥è®¿é—®ipåœ°å€ï¼Œæ¯”å¦‚\ï¼š<a href="http://192.168.1.1/\ï¼Œå¦‚æœèƒ½çœ‹åˆ°å¦‚ä¸‹Nginxä¸»é¡µè¯´æ˜å®‰è£…æˆåŠŸäº†" target="_blank" rel="noopener">http://192.168.1.1/\ï¼Œå¦‚æœèƒ½çœ‹åˆ°å¦‚ä¸‹Nginxä¸»é¡µè¯´æ˜å®‰è£…æˆåŠŸäº†</a></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://raw.githubusercontent.com/chengheai/review-demo-image/master/14795543-4ea3783126a0d378.webp" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="ä¸Šä¼ éƒ¨ç½²æ–‡ä»¶"><a href="#ä¸Šä¼ éƒ¨ç½²æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ éƒ¨ç½²æ–‡ä»¶"></a>ä¸Šä¼ éƒ¨ç½²æ–‡ä»¶</h2><p>windowæœºå™¨å¯ä»¥ä½¿ç”¨winscpä¸Šä¼ <br>macçš„è¯å¯ä»¥ä½¿ç”¨lrzsz<br>è¿™ä¸ªä½¿ç”¨mac<br>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ‰“åŒ…</span></span><br><span class="line">tar zcvf dist.tar.gz dist/</span><br><span class="line"><span class="meta">#</span><span class="bash"> è§£å‹</span></span><br><span class="line">tar zxvf dist.tar.gz</span><br></pre></td></tr></table></figure><p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºnginxæ–‡ä»¶å¤¹<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/nginx</span><br><span class="line">cp -rf dist ./../vue</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œä¸‹é¢è¿™æ®µè¯å¯ä»¥nginxçš„é…ç½®æ–‡ä»¶<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo /usr/<span class="built_in">local</span>/nginx/sbin/nginx -t</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹é¢è¿™è¡Œä»£ç è¯´æ˜ nginx çš„é…ç½®æ–‡ä»¶æ˜¯ /usr/<span class="built_in">local</span>/nginx/conf/nginx.conf</span></span><br><span class="line">nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful</span><br></pre></td></tr></table></figure></p><h2 id="é…ç½®nginx"><a href="#é…ç½®nginx" class="headerlink" title="é…ç½®nginx"></a>é…ç½®nginx</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WechatIMG211.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><p>ä¿®æ”¹å®Œæ¯•ï¼Œä¿å­˜é€€å‡ºã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥é‡å¯ Nginxï¼Œè®©é…ç½®ç”Ÿæ•ˆï¼š<br>sudo /usr/local/nginx/sbin/nginx -s reload<br>åˆšå¼€å§‹å› ä¸ºæ²¡æœ‰é…ç½®æƒé™ï¼Œè®¿é—®ä¼šå‡ºç°403 Forbiddené”™è¯¯<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 755 ~</span><br><span class="line">sudo chmod 755 ~/nginx</span><br><span class="line">sudo chmod 755 ~/nginx/vue</span><br></pre></td></tr></table></figure></p><p>æœ€åï¼Œä½ èƒ½çœ‹åˆ°ä¸‹é¢çš„é¡µé¢<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/WX20190911-224210@2x.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘çœ‹äº†çœ‹nginxï¼Œè§‰å¾—æŒºå¥½ç©ï¼Œåˆšå¥½è‡ªå·±æœ‰ä¸€ä¸ªVPNæµ‹è¯•æœåŠ¡å™¨ï¼Œå°±è‡ªå·±æ•²äº†ä¸€éï¼Œéƒ¨ç½²ä¸€ä¸ªvue-cliåˆå§‹åŒ–é¡¹ç›®&lt;br&gt;ï½å¦å¤–ç»™å¤§å®¶æ¨èä¸€
      
    
    </summary>
    
    
      <category term="linux" scheme="https://github.com/chengheai/tags/linux/"/>
    
      <category term="vue" scheme="https://github.com/chengheai/tags/vue/"/>
    
      <category term="éƒ¨ç½²" scheme="https://github.com/chengheai/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³vscodeä¸­jsæ–‡ä»¶æç¤ºtypescriptè¯­æ³•æŠ¥é”™</title>
    <link href="https://github.com/chengheai/2019/09/11/%E8%A7%A3%E5%86%B3vscode%E4%B8%ADjs%E6%96%87%E4%BB%B6%E6%8F%90%E7%A4%BAtypescript%E8%AF%AD%E6%B3%95%E6%8A%A5%E9%94%99/"/>
    <id>https://github.com/chengheai/2019/09/11/è§£å†³vscodeä¸­jsæ–‡ä»¶æç¤ºtypescriptè¯­æ³•æŠ¥é”™/</id>
    <published>2019-09-11T13:45:33.000Z</published>
    <updated>2021-10-09T08:48:32.096Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨vueé¡¹ç›®ä¸­ï¼Œå…¨å±€å®‰è£…äº†ä¸€ä¸‹typescriptï¼Œå†çœ‹çœ‹vueé¡¹ç›®ä»£ç å°±æœ‰ä¸€å¤§å †tsæç¤ºé”™è¯¯<br>ç„¶åç½‘ä¸Šä¸€æœä¹Ÿæ²¡å•¥å¥½ç­”æ¡ˆ<br>ï½ä¾‹å¦‚ï¼š<br>âŒâŒè§£å†³åŠæ³•ï¼šåœ¨è®¾ç½®é‡Œé¢åŠ ä¸Š â€œjavascript.validate.enableâ€: false ç¦ç”¨é»˜è®¤çš„ js éªŒè¯<br>è¿™æ ·ç¦ç”¨é‚£æˆ‘jså†™é”™äº†éƒ½ä¸çŸ¥é“ã€‚ã€‚ã€‚</p><h2 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h2><p>ï½è®¾ç½®ä¸­æœç´¢tsconfig -&gt;Check JS Experimental Decorators å»æ‰å‹¾é€‰â˜‘ï¸ğŸ³<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20190911110647.png?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨vueé¡¹ç›®ä¸­ï¼Œå…¨å±€å®‰è£…äº†ä¸€ä¸‹typescriptï¼Œå†çœ‹çœ‹vueé¡¹ç›®ä»£ç å°±æœ‰ä¸€å¤§å †tsæç¤ºé”™è¯¯&lt;br&gt;ç„¶åç½‘ä¸Šä¸€æœä¹Ÿæ²¡å•¥å¥½ç­”æ¡ˆ&lt;br&gt;ï½
      
    
    </summary>
    
    
      <category term="vscode" scheme="https://github.com/chengheai/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>Axiosæ— æ³•åœ¨Safariæµè§ˆå™¨åŠå¾®ä¿¡ä¸­æ‰“å¼€</title>
    <link href="https://github.com/chengheai/2019/09/09/Axios%E6%97%A0%E6%B3%95%E5%9C%A8Safari%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%8A%E5%BE%AE%E4%BF%A1%E4%B8%AD%E6%89%93%E5%BC%80/"/>
    <id>https://github.com/chengheai/2019/09/09/Axiosæ— æ³•åœ¨Safariæµè§ˆå™¨åŠå¾®ä¿¡ä¸­æ‰“å¼€/</id>
    <published>2019-09-09T13:31:05.000Z</published>
    <updated>2021-10-09T08:48:32.049Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åœ¨é¡¹ç›®å¼€å‘ä¸­ç¢°åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œåˆšç™»å½•å®Œç”¨ axios è°ƒè®¢å•åˆ—è¡¨æ¥å£æ—¶ï¼Œæ€»æ˜¯æç¤º token è¿‡æœŸå¤±æ•ˆã€‚ä»”ç»†æƒ³æƒ³ï¼Œåˆšç™»å½•çš„è¿”å›çš„ token éƒ½æ²¡å­˜åœ¨ window.document.cookie ä¸­ï¼Œæ€ä¹ˆä¼šè¿‡æœŸå‘¢ã€‚ç»è¿‡æ²¿è·¯æŠ½ä¸å‰¥èŒ§ï¼Œdebuggerï¼Œæ‰“å°å‡ºæ¥çš„ token ä¾ç„¶æ˜¯æœ€æ–°çš„è¿”å›ï¼Œè¿™ä½¿å¾—æˆ‘ä¸ç¦é™·å…¥äº†æ²‰æ€ ğŸ§•ğŸ¿ğŸ‘³ğŸ¿â€â™‚ï¸ï¼Œä¸ºå•¥ï¼Ÿ</p><h2 id="æ­£å¸¸ä»£ç "><a href="#æ­£å¸¸ä»£ç " class="headerlink" title="æ­£å¸¸ä»£ç "></a>æ­£å¸¸ä»£ç </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// list</span></span><br><span class="line">getList() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$axios</span><br><span class="line">    .get(url, &#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        token: <span class="string">'xxx'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      withCredentials: <span class="literal">true</span>,</span><br><span class="line">      params: &#123;</span><br><span class="line">        page: <span class="keyword">this</span>.page,</span><br><span class="line">        per_page: <span class="number">6</span>,</span><br><span class="line">        others: <span class="string">'xxx'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'res: '</span>, res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'err: '</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™ä»£ç çœ‹èµ·æ¥æ²¡å•¥é—®é¢˜å•Šï¼Œä¸ºå•¥åœ¨safariæµè§ˆå™¨å°±ä¸è¡Œäº†å‘¢ï¼Ÿ<br>äºæ˜¯ã€‚ã€‚</p><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><h3 id="ä¿®æ”¹åçš„ä»£ç -æ–¹æ³•ä¸€"><a href="#ä¿®æ”¹åçš„ä»£ç -æ–¹æ³•ä¸€" class="headerlink" title="ä¿®æ”¹åçš„ä»£ç [æ–¹æ³•ä¸€]"></a>ä¿®æ”¹åçš„ä»£ç [æ–¹æ³•ä¸€]</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// list</span></span><br><span class="line">getList() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$axios</span><br><span class="line">    .get(<span class="string">`<span class="subst">$&#123;url&#125;</span>?nocache=<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()&#125;</span>`</span>, &#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        token: <span class="string">'xxx'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      withCredentials: <span class="literal">true</span>,</span><br><span class="line">      params: &#123;</span><br><span class="line">        page: <span class="keyword">this</span>.page,</span><br><span class="line">        per_page: <span class="number">6</span>,</span><br><span class="line">        others: <span class="string">'xxx'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'res: '</span>, res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'err: '</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹åçš„ä»£ç -æ–¹æ³•äºŒ"><a href="#ä¿®æ”¹åçš„ä»£ç -æ–¹æ³•äºŒ" class="headerlink" title="ä¿®æ”¹åçš„ä»£ç [æ–¹æ³•äºŒ]"></a>ä¿®æ”¹åçš„ä»£ç [æ–¹æ³•äºŒ]</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// list</span></span><br><span class="line">getList() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$axios</span><br><span class="line">    .get(url, &#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        token: <span class="string">'xxx'</span>,</span><br><span class="line">        Pragma: no-cache, <span class="comment">// æ³¨é‡Š1</span></span><br><span class="line">        <span class="string">'Cache-control'</span>: no-cache <span class="comment">// æ³¨é‡Š2</span></span><br><span class="line">      &#125;,</span><br><span class="line">      withCredentials: <span class="literal">true</span>,</span><br><span class="line">      params: &#123;</span><br><span class="line">        page: <span class="keyword">this</span>.page,</span><br><span class="line">        per_page: <span class="number">6</span>,</span><br><span class="line">        others: <span class="string">'xxx'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'res: '</span>, res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'err: '</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥çš„è¯å°±ç»™æ¥å£æ·»åŠ äº†ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸”è¿™å‚æ•°ä¸ä¸Šä¸€æ¬¡çš„åˆä¸ä¸€æ ·ï¼Œæ‰€ä»¥å°±ä¸ä¼šå­˜åœ¨ç¼“å­˜è¿™ä¸€è¯´äº†ã€‚</p><h2 id="é—®é¢˜ã€ç¼˜ã€‘ç”±"><a href="#é—®é¢˜ã€ç¼˜ã€‘ç”±" class="headerlink" title="é—®é¢˜ã€ç¼˜ã€‘ç”±"></a>é—®é¢˜ã€ç¼˜ã€‘ç”±</h2><p>ï½æ®è¯´æ˜¯æŸäº›æµè§ˆå™¨è¯·æ±‚æ¥å£çš„æ—¶å€™ï¼Œå‚æ•°æœªå˜ï¼Œæµè§ˆå™¨ä¸ä¼šå‘èµ·æ–°çš„è¯·æ±‚ï¼Œå°±ç”¨æ—§çš„æ•°æ®å»è¯·æ±‚ï¼Œè€Œè¯·æ±‚å¤´headerså­˜æ”¾åœ¨cookieé‡Œï¼›æ•…è€Œæ²¡æœ‰æ›´æ–°cookieé‡Œçš„tokenã€‚<br>ï½ã€æ³¨é‡Š1ã€‘<br>Pragma æ˜¯ä¸€ä¸ªåœ¨ HTTP/1.0 ä¸­è§„å®šçš„é€šç”¨é¦–éƒ¨ï¼Œè¿™ä¸ªé¦–éƒ¨çš„æ•ˆæœä¾èµ–äºä¸åŒçš„å®ç°ï¼Œæ‰€ä»¥åœ¨â€œè¯·æ±‚-å“åº”â€é“¾ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„æ•ˆæœã€‚å®ƒç”¨æ¥å‘åå…¼å®¹åªæ”¯æŒ HTTP/1.0 åè®®çš„ç¼“å­˜æœåŠ¡å™¨ï¼Œé‚£æ—¶å€™ HTTP/1.1 åè®®ä¸­çš„ Cache-Control è¿˜æ²¡æœ‰å‡ºæ¥ã€‚<br>ï½ã€æ³¨é‡Š2ã€‘<br>Cache-Control é€šç”¨æ¶ˆæ¯å¤´å­—æ®µï¼Œè¢«ç”¨äºåœ¨httpè¯·æ±‚å’Œå“åº”ä¸­ï¼Œé€šè¿‡æŒ‡å®šæŒ‡ä»¤æ¥å®ç°ç¼“å­˜æœºåˆ¶ã€‚ç¼“å­˜æŒ‡ä»¤æ˜¯å•å‘çš„ï¼Œè¿™æ„å‘³ç€åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„æŒ‡ä»¤ï¼Œä¸ä¸€å®šè¢«åŒ…å«åœ¨å“åº”ä¸­ã€‚<br>~æ€»çš„æ¥è¯´æ˜¯æ¢çš„åŸå› ã€‚ç›¸ä¿¡è¿˜æœ‰åˆ«çš„æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p><h2 id="ç›¸å…³æ–‡æ¡£"><a href="#ç›¸å…³æ–‡æ¡£" class="headerlink" title="ç›¸å…³æ–‡æ¡£"></a>ç›¸å…³æ–‡æ¡£</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Pragma" target="_blank" rel="noopener">Headers/Pragma</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control" target="_blank" rel="noopener">Headers/Cache-Control</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨é¡¹ç›®å¼€å‘ä¸­ç¢°åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œåˆšç™»å½•å®Œç”¨ axios è°ƒè®¢å•åˆ—è¡¨æ¥å£æ—¶ï¼Œæ€»æ˜¯æç¤º token è¿‡æœŸå¤±æ•ˆã€‚ä»”ç»†æƒ³æƒ³ï¼Œåˆšç™»å½•çš„è¿”å›çš„ tok
      
    
    </summary>
    
    
      <category term="axios" scheme="https://github.com/chengheai/tags/axios/"/>
    
      <category term="å°æŠ€å·§" scheme="https://github.com/chengheai/tags/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>vueä¸­audioå®ç°å¾®ä¿¡è¯­éŸ³æ’­æ”¾åŠ¨ç”»</title>
    <link href="https://github.com/chengheai/2019/09/09/vue%E4%B8%ADaudio%E5%AE%9E%E7%8E%B0%E5%BE%AE%E4%BF%A1%E8%AF%AD%E9%9F%B3%E6%92%AD%E6%94%BE%E5%8A%A8%E7%94%BB/"/>
    <id>https://github.com/chengheai/2019/09/09/vueä¸­audioå®ç°å¾®ä¿¡è¯­éŸ³æ’­æ”¾åŠ¨ç”»/</id>
    <published>2019-09-09T12:58:24.000Z</published>
    <updated>2021-10-09T08:48:32.080Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://github.com/chengheai/review-demo-image/blob/master/2019-09-09%2021-01-51.2019-09-09%2021_02_34.gif?raw=true" alt title>                </div>                <div class="image-caption"></div>            </figure><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>æ‹¿åˆ°æ—¶é•¿åšå€’è®¡æ—¶ï¼Œæ—¶é•¿ = ï¼ˆ æ—¶é•¿ + 1 ï¼‰ * 100; destroyçš„æ—¶å€™æ¸…é™¤ä¸€ä¸‹</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display:none"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>=<span class="string">"controls"</span> <span class="attr">ref</span>=<span class="string">"audio"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">:src</span>=<span class="string">"url || ''"</span> <span class="attr">type</span>=<span class="string">"audio/mpeg"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"voice-bg"</span> @<span class="attr">click</span>=<span class="string">"handlePlay"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-if</span>=<span class="string">"isPlaying"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"./../../assets/images/goods/voice-play.gif"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-else</span></span></span><br><span class="line"><span class="tag">    <span class="attr">src</span>=<span class="string">"./../../assets/images/goods/voice.png"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">alt</span>=<span class="string">""</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; duration || 0 &#125;&#125;"<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">data() &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    url: <span class="string">''</span>,</span><br><span class="line">    timer: <span class="literal">null</span>,</span><br><span class="line">    isPlaying: <span class="literal">false</span>,</span><br><span class="line">    currentTime: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  handlePlay() &#123;</span><br><span class="line">    <span class="keyword">let</span> audio = <span class="keyword">this</span>.$refs.audio;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isPlaying) &#123;</span><br><span class="line">      audio.play();</span><br><span class="line">      <span class="keyword">this</span>.isPlaying = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">this</span>.watchEnd();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      audio.pause();</span><br><span class="line">      clearTimeout(<span class="keyword">this</span>.timer);</span><br><span class="line">      <span class="keyword">this</span>.isPlaying = <span class="literal">false</span>;</span><br><span class="line">      audio.currentTime = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watchEnd() &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">this</span>.timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      that.isPlaying = <span class="literal">false</span>;</span><br><span class="line">    &#125;, (that.duration + <span class="number">1</span>) * <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">beforeDestroy() &#123;</span><br><span class="line">  clearTimeout(<span class="keyword">this</span>.timer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><h3 id="å…³äºè·å–audioä¿¡æ¯æ¥å£"><a href="#å…³äºè·å–audioä¿¡æ¯æ¥å£" class="headerlink" title="å…³äºè·å–audioä¿¡æ¯æ¥å£"></a>å…³äºè·å–audioä¿¡æ¯æ¥å£</h3><p><a href="https://developer.qiniu.com/dora/api/1247/audio-and-video-metadata-information-avinfo" target="_blank" rel="noopener">ä¸ƒç‰›äº‘ğŸ‚ğŸƒğŸ•ğŸ„</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$axios.get(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.info.url&#125;</span>?avinfo`</span>).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; streams &#125; = res.data;</span><br><span class="line">  <span class="keyword">this</span>.duration = <span class="built_in">parseInt</span>((streams &amp;&amp; streams[<span class="number">0</span>].duration) || <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="UIå›¾ç‰‡"><a href="#UIå›¾ç‰‡" class="headerlink" title="UIå›¾ç‰‡"></a>UIå›¾ç‰‡</h3><p><a href="https://github.com/chengheai/chengheai.github.io/issues/1">ä¸‹è½½åœ°å€</a><br><a href="https://github.com/chengheai/chengheai.github.io/issues/1">isPlaying gif</a><br><a href="https://github.com/chengheai/chengheai.github.io/issues/1">isPause png</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é¢„è§ˆ&quot;&gt;&lt;a href=&quot;#é¢„è§ˆ&quot; class=&quot;headerlink&quot; title=&quot;é¢„è§ˆ&quot;&gt;&lt;/a&gt;é¢„è§ˆ&lt;/h2&gt;&lt;figure class=&quot;image-bubble&quot;&gt;
                &lt;div class=&quot;img-lightbox&quot;&gt;

      
    
    </summary>
    
    
      <category term="vue" scheme="https://github.com/chengheai/tags/vue/"/>
    
  </entry>
  
</feed>
